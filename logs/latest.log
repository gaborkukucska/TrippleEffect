2025-06-02 16:11:39,649 - src.main - INFO - --- Application Logging Initialized (Level: DEBUG, Console & File: app_20250602_161139.log) ---
2025-06-02 16:11:39,649 - src.main - INFO - Creating FastAPI app instance...
2025-06-02 16:11:39,649 - src.main - INFO - FastAPI app instance created with lifespan handler.
2025-06-02 16:11:39,650 - src.main - INFO - Looking for static files directory at: /home/tomanderson/TrippleEffect/static
2025-06-02 16:11:39,650 - src.main - INFO - Mounted static files directory: /home/tomanderson/TrippleEffect/static
2025-06-02 16:11:39,650 - src.main - INFO - Including API routers...
2025-06-02 16:11:39,659 - src.main - INFO - API routers included.
2025-06-02 16:11:39,659 - src.main - INFO - Application startup sequence initiated...
2025-06-02 16:11:39,660 - src.main - INFO - Lifespan: Initializing DatabaseManager...
2025-06-02 16:11:39,660 - src.core.database_manager - INFO - Initializing asynchronous database connection to: sqlite+aiosqlite:////home/tomanderson/TrippleEffect/data/trippleeffect_memory.db
2025-06-02 16:11:39,660 - src.core.database_manager - INFO - Ensured database directory exists: /home/tomanderson/TrippleEffect/data
2025-06-02 16:11:39,676 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x7fd41fed77e0>
2025-06-02 16:11:39,676 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x7fd41fed77e0> completed
2025-06-02 16:11:39,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7fd41feab6a0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x7fd41fed6a20>, deterministic=True)
2025-06-02 16:11:39,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7fd41feab6a0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x7fd41fed6a20>, deterministic=True) completed
2025-06-02 16:11:39,677 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7fd41feab6a0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-02 16:11:39,677 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x7fd41feab6a0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41f358340>, 'PRAGMA read_uncommitted', [])
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41f358340>, 'PRAGMA read_uncommitted', []) completed
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41f358340>)
2025-06-02 16:11:39,678 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41f358340>) completed
2025-06-02 16:11:39,679 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41f358340>)
2025-06-02 16:11:39,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41f358340>) completed
2025-06-02 16:11:39,679 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41f3583c0>, 'PRAGMA main.table_info("projects")', ())
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41f3583c0>, 'PRAGMA main.table_info("projects")', ()) completed
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41f3583c0>)
2025-06-02 16:11:39,680 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41f3583c0>) completed
2025-06-02 16:11:39,681 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41f3583c0>)
2025-06-02 16:11:39,681 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41f3583c0>) completed
2025-06-02 16:11:39,681 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,681 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,681 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("projects")', ())
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("projects")', ()) completed
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("sessions")', ())
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("sessions")', ()) completed
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,683 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("sessions")', ())
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("sessions")', ()) completed
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,684 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("agent_records")', ())
2025-06-02 16:11:39,685 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("agent_records")', ()) completed
2025-06-02 16:11:39,686 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,686 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,686 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,687 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,687 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,688 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("agent_records")', ())
2025-06-02 16:11:39,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("agent_records")', ()) completed
2025-06-02 16:11:39,688 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,688 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,689 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,689 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,690 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,690 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,690 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("interactions")', ())
2025-06-02 16:11:39,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("interactions")', ()) completed
2025-06-02 16:11:39,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,691 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,691 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,692 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,692 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("interactions")', ())
2025-06-02 16:11:39,693 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("interactions")', ()) completed
2025-06-02 16:11:39,693 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,693 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,693 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,693 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("long_term_knowledge")', ())
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA main.table_info("long_term_knowledge")', ()) completed
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,694 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("long_term_knowledge")', ())
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'PRAGMA temp.table_info("long_term_knowledge")', ()) completed
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,695 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,696 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,696 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,697 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,697 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,697 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE projects (\n\tid INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tdescription TEXT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tUNIQUE (name)\n)\n\n', ())
2025-06-02 16:11:39,719 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE projects (\n\tid INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tdescription TEXT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tUNIQUE (name)\n)\n\n', ()) completed
2025-06-02 16:11:39,719 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,720 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,721 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,721 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,721 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_project_name ON projects (name)', ())
2025-06-02 16:11:39,742 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_project_name ON projects (name)', ()) completed
2025-06-02 16:11:39,742 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,743 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,743 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,743 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,744 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE sessions (\n\tid INTEGER NOT NULL, \n\tproject_id INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tstart_time DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tend_time DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(project_id) REFERENCES projects (id)\n)\n\n', ())
2025-06-02 16:11:39,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE sessions (\n\tid INTEGER NOT NULL, \n\tproject_id INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tstart_time DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tend_time DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(project_id) REFERENCES projects (id)\n)\n\n', ()) completed
2025-06-02 16:11:39,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,764 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,764 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,765 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,765 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_session_project_id ON sessions (project_id)', ())
2025-06-02 16:11:39,787 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_session_project_id ON sessions (project_id)', ()) completed
2025-06-02 16:11:39,788 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,788 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,788 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,789 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,789 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_session_name_project ON sessions (project_id, name)', ())
2025-06-02 16:11:39,809 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_session_name_project ON sessions (project_id, name)', ()) completed
2025-06-02 16:11:39,810 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,810 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,812 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,812 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,812 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE agent_records (\n\tid INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tpersona VARCHAR NOT NULL, \n\tmodel_config_json JSON, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ())
2025-06-02 16:11:39,832 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE agent_records (\n\tid INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tpersona VARCHAR NOT NULL, \n\tmodel_config_json JSON, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ()) completed
2025-06-02 16:11:39,834 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,834 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,835 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,835 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,836 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE UNIQUE INDEX ix_agentrecord_session_agent ON agent_records (session_id, agent_id)', ())
2025-06-02 16:11:39,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE UNIQUE INDEX ix_agentrecord_session_agent ON agent_records (session_id, agent_id)', ()) completed
2025-06-02 16:11:39,857 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,857 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,859 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE interactions (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\trole VARCHAR NOT NULL, \n\tcontent TEXT, \n\ttool_calls_json JSON, \n\ttool_results_json JSON, \n\ttimestamp DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ())
2025-06-02 16:11:39,879 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE interactions (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\trole VARCHAR NOT NULL, \n\tcontent TEXT, \n\ttool_calls_json JSON, \n\ttool_results_json JSON, \n\ttimestamp DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ()) completed
2025-06-02 16:11:39,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,881 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_agent_id ON interactions (agent_id)', ())
2025-06-02 16:11:39,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_agent_id ON interactions (agent_id)', ()) completed
2025-06-02 16:11:39,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_session_id ON interactions (session_id)', ())
2025-06-02 16:11:39,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_session_id ON interactions (session_id)', ()) completed
2025-06-02 16:11:39,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_timestamp ON interactions (timestamp)', ())
2025-06-02 16:11:39,946 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_interaction_timestamp ON interactions (timestamp)', ()) completed
2025-06-02 16:11:39,946 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,947 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,950 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,950 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,951 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE long_term_knowledge (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER, \n\tkeywords VARCHAR NOT NULL, \n\tsummary TEXT NOT NULL, \n\tsource_interaction_id INTEGER, \n\timportance_score FLOAT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_accessed DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id), \n\tFOREIGN KEY(source_interaction_id) REFERENCES interactions (id)\n)\n\n', ())
2025-06-02 16:11:39,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, '\nCREATE TABLE long_term_knowledge (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER, \n\tkeywords VARCHAR NOT NULL, \n\tsummary TEXT NOT NULL, \n\tsource_interaction_id INTEGER, \n\timportance_score FLOAT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_accessed DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id), \n\tFOREIGN KEY(source_interaction_id) REFERENCES interactions (id)\n)\n\n', ()) completed
2025-06-02 16:11:39,971 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,971 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,972 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,972 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_knowledge_importance ON long_term_knowledge (importance_score)', ())
2025-06-02 16:11:39,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_knowledge_importance ON long_term_knowledge (importance_score)', ()) completed
2025-06-02 16:11:39,993 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:39,993 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:39,994 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:39,994 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:39,994 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_knowledge_keywords ON long_term_knowledge (keywords)', ())
2025-06-02 16:11:40,014 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41fe97840>, 'CREATE INDEX ix_knowledge_keywords ON long_term_knowledge (keywords)', ()) completed
2025-06-02 16:11:40,015 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>)
2025-06-02 16:11:40,015 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41fe97840>) completed
2025-06-02 16:11:40,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,016 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,016 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,017 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,017 - src.core.database_manager - INFO - Database tables created/verified successfully.
2025-06-02 16:11:40,017 - src.main - INFO - Lifespan: DatabaseManager initialized successfully.
2025-06-02 16:11:40,017 - src.main - INFO - Instantiating AgentManager...
2025-06-02 16:11:40,018 - src.agents.manager - INFO - AgentManager __init__: Instantiating ProviderKeyManager...
2025-06-02 16:11:40,018 - src.agents.provider_key_manager - INFO - Quarantine state file not found. Initializing empty state.
2025-06-02 16:11:40,018 - src.agents.manager - INFO - AgentManager __init__: Instantiating ToolExecutor...
2025-06-02 16:11:40,018 - src.tools.executor - INFO - Dynamically discovering and registering tools...
2025-06-02 16:11:40,019 - src.tools.executor - DEBUG - Attempting to import module: src.tools.executor
2025-06-02 16:11:40,019 - src.tools.executor - DEBUG - Skipping module: __init__
2025-06-02 16:11:40,019 - src.tools.executor - DEBUG - Attempting to import module: src.tools.knowledge_base
2025-06-02 16:11:40,020 - src.tools.executor - DEBUG -   Found potential tool class: KnowledgeBaseTool in src.tools.knowledge_base
2025-06-02 16:11:40,020 - src.tools.executor - INFO -   Registered tool: 'knowledge_base' (from knowledge_base.py)
2025-06-02 16:11:40,021 - src.tools.executor - DEBUG - Attempting to import module: src.tools.tool_information
2025-06-02 16:11:40,022 - src.tools.executor - DEBUG -   Found potential tool class: ToolInformationTool in src.tools.tool_information
2025-06-02 16:11:40,022 - src.tools.executor - INFO -   Registered tool: 'tool_information' (from tool_information.py)
2025-06-02 16:11:40,023 - src.tools.executor - DEBUG - Skipping module: base
2025-06-02 16:11:40,023 - src.tools.executor - DEBUG - Attempting to import module: src.tools.system_help
2025-06-02 16:11:40,024 - src.tools.executor - DEBUG -   Found potential tool class: SystemHelpTool in src.tools.system_help
2025-06-02 16:11:40,024 - src.tools.executor - INFO -   Registered tool: 'system_help' (from system_help.py)
2025-06-02 16:11:40,024 - src.tools.executor - DEBUG - Attempting to import module: src.tools.web_search
2025-06-02 16:11:40,212 - src.tools.executor - DEBUG -   Found potential tool class: WebSearchTool in src.tools.web_search
2025-06-02 16:11:40,212 - src.tools.executor - INFO -   Registered tool: 'web_search' (from web_search.py)
2025-06-02 16:11:40,212 - src.tools.executor - DEBUG - Attempting to import module: src.tools.file_system
2025-06-02 16:11:40,212 - src.tools.executor - DEBUG -   Found potential tool class: FileSystemTool in src.tools.file_system
2025-06-02 16:11:40,213 - src.tools.executor - INFO -   Registered tool: 'file_system' (from file_system.py)
2025-06-02 16:11:40,213 - src.tools.executor - DEBUG - Attempting to import module: src.tools.github_tool
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG -   Found potential tool class: GitHubTool in src.tools.github_tool
2025-06-02 16:11:40,214 - src.tools.github_tool - INFO - GitHubTool initialized with access token.
2025-06-02 16:11:40,214 - src.tools.executor - INFO -   Registered tool: 'github_tool' (from github_tool.py)
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG - Attempting to import module: src.tools.send_message
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG -   Found potential tool class: SendMessageTool in src.tools.send_message
2025-06-02 16:11:40,214 - src.tools.executor - INFO -   Registered tool: 'send_message' (from send_message.py)
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG - Attempting to import module: src.tools.manage_team
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG -   Found potential tool class: ManageTeamTool in src.tools.manage_team
2025-06-02 16:11:40,214 - src.tools.executor - INFO -   Registered tool: 'manage_team' (from manage_team.py)
2025-06-02 16:11:40,214 - src.tools.executor - DEBUG - Skipping module: tool_parser
2025-06-02 16:11:40,215 - src.tools.executor - DEBUG - Attempting to import module: src.tools.project_management
2025-06-02 16:11:40,215 - src.tools.executor - DEBUG -   Found potential tool class: ProjectManagementTool in src.tools.project_management
2025-06-02 16:11:40,215 - src.tools.executor - INFO -   Registered tool: 'project_management' (from project_management.py)
2025-06-02 16:11:40,215 - src.tools.executor - INFO - ToolExecutor initialized with dynamically discovered tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,215 - src.agents.manager - INFO - AgentManager __init__: ToolExecutor instantiated with tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,215 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentStateManager...
2025-06-02 16:11:40,215 - src.agents.state_manager - INFO - AgentStateManager initialized.
2025-06-02 16:11:40,215 - src.agents.manager - INFO - AgentManager __init__: Instantiating SessionManager...
2025-06-02 16:11:40,215 - src.agents.session_manager - INFO - SessionManager initialized.
2025-06-02 16:11:40,216 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentWorkflowManager...
2025-06-02 16:11:40,216 - src.agents.workflow_manager - INFO - AgentWorkflowManager: Discovering and registering workflows...
2025-06-02 16:11:40,216 - src.agents.workflow_manager - DEBUG - Skipping workflow module: __init__
2025-06-02 16:11:40,216 - src.agents.workflow_manager - DEBUG - Skipping workflow module: base
2025-06-02 16:11:40,216 - src.agents.workflow_manager - DEBUG - Attempting to import workflow module: src.workflows.pm_kickoff_workflow
2025-06-02 16:11:40,216 - src.agents.workflow_manager - DEBUG -   Found potential workflow class: PMKickoffWorkflow in src.workflows.pm_kickoff_workflow
2025-06-02 16:11:40,216 - src.agents.workflow_manager - INFO -   Registered workflow: 'pm_project_kickoff' (Trigger: task_list for pm in state pm_startup)
2025-06-02 16:11:40,217 - src.agents.workflow_manager - DEBUG - Attempting to import workflow module: src.workflows.project_creation_workflow
2025-06-02 16:11:40,217 - src.agents.workflow_manager - DEBUG -   Found potential workflow class: ProjectCreationWorkflow in src.workflows.project_creation_workflow
2025-06-02 16:11:40,217 - src.agents.workflow_manager - INFO -   Registered workflow: 'project_creation' (Trigger: plan for admin in state planning)
2025-06-02 16:11:40,217 - src.agents.workflow_manager - INFO - AgentWorkflowManager: Workflow discovery complete. 2 workflows loaded. 2 triggers registered.
2025-06-02 16:11:40,217 - src.agents.workflow_manager - INFO - AgentWorkflowManager initialized.
2025-06-02 16:11:40,217 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentInteractionHandler...
2025-06-02 16:11:40,217 - src.agents.interaction_handler - INFO - AgentInteractionHandler initialized.
2025-06-02 16:11:40,217 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentCycleHandler...
2025-06-02 16:11:40,217 - src.agents.cycle_handler - INFO - AgentCycleHandler initialized.
2025-06-02 16:11:40,218 - src.agents.manager - INFO - AgentManager __init__: Instantiating ModelPerformanceTracker...
2025-06-02 16:11:40,218 - src.agents.performance_tracker - DEBUG - Ensured data directory exists: /home/tomanderson/TrippleEffect/data
2025-06-02 16:11:40,218 - src.agents.performance_tracker - INFO - Metrics file not found at /home/tomanderson/TrippleEffect/data/model_performance_metrics.json. Initializing empty metrics.
2025-06-02 16:11:40,218 - src.agents.manager - INFO - AgentManager __init__: Initialized synchronously.
2025-06-02 16:11:40,218 - src.main - INFO - AgentManager instantiated.
2025-06-02 16:11:40,218 - src.main - INFO - AgentManager instance stored in app.state.
2025-06-02 16:11:40,219 - src.api.websocket_manager - INFO - WebSocketManager: AgentManager instance set.
2025-06-02 16:11:40,219 - src.main - INFO - AgentManager instance injected into WebSocketManager.
2025-06-02 16:11:40,219 - src.main - INFO - Lifespan: Discovering reachable providers and available models...
2025-06-02 16:11:40,219 - src.config.model_registry - INFO - Model Registry: Starting discovery. Effective MODEL_TIER = FREE
2025-06-02 16:11:40,219 - src.config.model_registry - INFO - MODEL_TIER is FREE, enabling remote provider discovery.
2025-06-02 16:11:40,219 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,219 - src.config.model_registry - DEBUG - Adding OpenRouter for discovery. Base: https://openrouter.ai/api/v1
2025-06-02 16:11:40,219 - src.config.settings - DEBUG - is_provider_configured check for remote 'openai': Keys found = False
2025-06-02 16:11:40,219 - src.config.model_registry - DEBUG - Skipping OpenAI discovery: Provider not configured in settings.
2025-06-02 16:11:40,219 - src.config.model_registry - INFO - Adding default localhost endpoints for verification...
2025-06-02 16:11:40,219 - src.config.model_registry - INFO - Local network scan is disabled in settings.
2025-06-02 16:11:40,220 - src.config.model_registry - INFO - Verifying 4 potential local endpoints...
2025-06-02 16:11:40,220 - src.agents.manager - INFO - Setting context. Project: DefaultProject, Session: startup_1748851900, Loading: False
2025-06-02 16:11:40,241 - src.config.model_registry - DEBUG - Verifying potential local API at http://127.0.0.1:4000...
2025-06-02 16:11:40,242 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,242 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,243 - src.config.model_registry - DEBUG - Verifying potential local API at http://127.0.0.1:11434...
2025-06-02 16:11:40,243 - src.config.model_registry - DEBUG - Verifying potential local API at http://localhost:11434...
2025-06-02 16:11:40,244 - src.config.model_registry - DEBUG - Verifying potential local API at http://localhost:4000...
2025-06-02 16:11:40,245 - src.agents.manager - INFO - Starting periodic PM manage check loop (Interval: 60.0s)...
2025-06-02 16:11:40,245 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7a1bc0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',))
2025-06-02 16:11:40,246 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://127.0.0.1:4000.
2025-06-02 16:11:40,246 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:4000/v1/models
2025-06-02 16:11:40,246 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7a1bc0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',)) completed
2025-06-02 16:11:40,246 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://127.0.0.1:11434.
2025-06-02 16:11:40,247 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:11434/v1/models
2025-06-02 16:11:40,248 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7a1bc0>)
2025-06-02 16:11:40,248 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:4000/v1/models.
2025-06-02 16:11:40,248 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7a1bc0>) completed
2025-06-02 16:11:40,248 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:4000/models
2025-06-02 16:11:40,249 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:11434/v1/models.
2025-06-02 16:11:40,249 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:11434/models
2025-06-02 16:11:40,249 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://localhost:11434.
2025-06-02 16:11:40,249 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:11434/v1/models
2025-06-02 16:11:40,250 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://localhost:4000.
2025-06-02 16:11:40,250 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:4000/v1/models
2025-06-02 16:11:40,250 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7a1bc0>)
2025-06-02 16:11:40,251 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7a1bc0>) completed
2025-06-02 16:11:40,251 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:4000/models.
2025-06-02 16:11:40,251 - src.config.model_registry - DEBUG - Could not verify http://127.0.0.1:4000 as either Ollama or OpenAI compatible.
2025-06-02 16:11:40,251 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:11434/models.
2025-06-02 16:11:40,251 - src.config.model_registry - DEBUG - Could not verify http://127.0.0.1:11434 as either Ollama or OpenAI compatible.
2025-06-02 16:11:40,252 - src.core.database_manager - DEBUG - Project 'DefaultProject' not found.
2025-06-02 16:11:40,252 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,253 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,254 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,254 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:11434/v1/models.
2025-06-02 16:11:40,254 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,255 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:11434/models
2025-06-02 16:11:40,255 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:4000/v1/models.
2025-06-02 16:11:40,256 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:4000/models
2025-06-02 16:11:40,257 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,257 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,258 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,259 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,259 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:11434/models.
2025-06-02 16:11:40,259 - src.config.model_registry - DEBUG - Could not verify http://localhost:11434 as either Ollama or OpenAI compatible.
2025-06-02 16:11:40,260 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',))
2025-06-02 16:11:40,260 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:4000/models.
2025-06-02 16:11:40,260 - src.config.model_registry - DEBUG - Could not verify http://localhost:4000 as either Ollama or OpenAI compatible.
2025-06-02 16:11:40,260 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',)) completed
2025-06-02 16:11:40,260 - src.config.model_registry - INFO - Running 1 remote discovery tasks concurrently...
2025-06-02 16:11:40,261 - src.config.model_registry - DEBUG - Discovering OpenRouter models...
2025-06-02 16:11:40,261 - src.config.model_registry - DEBUG - Requesting OpenRouter models from https://openrouter.ai/api/v1/models using key ending '...c503'
2025-06-02 16:11:40,261 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,261 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,262 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,262 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,264 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,264 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'INSERT INTO projects (name, description) VALUES (?, ?) RETURNING id, created_at', ('DefaultProject', None))
2025-06-02 16:11:40,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'INSERT INTO projects (name, description) VALUES (?, ?) RETURNING id, created_at', ('DefaultProject', None)) completed
2025-06-02 16:11:40,265 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,265 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,266 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,266 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,268 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.id = ?', (1,))
2025-06-02 16:11:40,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d72c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.id = ?', (1,)) completed
2025-06-02 16:11:40,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,269 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>)
2025-06-02 16:11:40,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d72c0>) completed
2025-06-02 16:11:40,270 - src.core.database_manager - INFO - Added new project 'DefaultProject' with ID 1.
2025-06-02 16:11:40,271 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,287 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,287 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,288 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,288 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,288 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,290 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,290 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e34fdc0>, 'INSERT INTO sessions (project_id, name, end_time) VALUES (?, ?, ?) RETURNING id, start_time', (1, 'startup_1748851900', None))
2025-06-02 16:11:40,291 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e34fdc0>, 'INSERT INTO sessions (project_id, name, end_time) VALUES (?, ?, ?) RETURNING id, start_time', (1, 'startup_1748851900', None)) completed
2025-06-02 16:11:40,291 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e34fdc0>)
2025-06-02 16:11:40,291 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e34fdc0>) completed
2025-06-02 16:11:40,292 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e34fdc0>)
2025-06-02 16:11:40,292 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e34fdc0>) completed
2025-06-02 16:11:40,294 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,294 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e34fdc0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,))
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e34fdc0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,)) completed
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e34fdc0>)
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e34fdc0>) completed
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e34fdc0>)
2025-06-02 16:11:40,295 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e34fdc0>) completed
2025-06-02 16:11:40,296 - src.core.database_manager - INFO - Started new session 'startup_1748851900' (ID: 1) for Project ID 1.
2025-06-02 16:11:40,296 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,312 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,312 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,312 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,313 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,313 - src.agents.manager - INFO - DB Context: ProjectID=1, SessionID=1
2025-06-02 16:11:40,576 - src.config.model_registry - INFO - Discovered 323 models from OpenRouter.
2025-06-02 16:11:40,628 - src.config.model_registry - INFO - Model Registry: Applying filters. Tier='FREE'. Reachable providers: ['openrouter']
2025-06-02 16:11:40,629 - src.config.model_registry - DEBUG - Filtering provider 'openrouter'. Identified as Local: False
2025-06-02 16:11:40,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-7b' (not marked as free).
2025-06-02 16:11:40,630 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-0528-qwen3-8b' (not marked as free).
2025-06-02 16:11:40,630 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2b-it' (not marked as free).
2025-06-02 16:11:40,630 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-0528' (not marked as free).
2025-06-02 16:11:40,630 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sarvamai/sarvam-m' (not marked as free).
2025-06-02 16:11:40,631 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/valkyrie-49b-v1' (not marked as free).
2025-06-02 16:11:40,631 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-opus-4' (not marked as free).
2025-06-02 16:11:40,631 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-sonnet-4' (not marked as free).
2025-06-02 16:11:40,632 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/devstral-small' (not marked as free).
2025-06-02 16:11:40,632 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview-05-20' (not marked as free).
2025-06-02 16:11:40,633 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview-05-20:thinking' (not marked as free).
2025-06-02 16:11:40,633 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/codex-mini' (not marked as free).
2025-06-02 16:11:40,633 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-medium-3' (not marked as free).
2025-06-02 16:11:40,633 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-pro-preview' (not marked as free).
2025-06-02 16:11:40,634 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/caller-large' (not marked as free).
2025-06-02 16:11:40,634 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/spotlight' (not marked as free).
2025-06-02 16:11:40,634 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/maestro-reasoning' (not marked as free).
2025-06-02 16:11:40,634 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/virtuoso-large' (not marked as free).
2025-06-02 16:11:40,635 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/coder-large' (not marked as free).
2025-06-02 16:11:40,635 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/virtuoso-medium-v2' (not marked as free).
2025-06-02 16:11:40,635 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/arcee-blitz' (not marked as free).
2025-06-02 16:11:40,635 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4-reasoning-plus' (not marked as free).
2025-06-02 16:11:40,636 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inception/mercury-coder-small-beta' (not marked as free).
2025-06-02 16:11:40,636 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-prover-v2' (not marked as free).
2025-06-02 16:11:40,636 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-4-12b' (not marked as free).
2025-06-02 16:11:40,636 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-30b-a3b' (not marked as free).
2025-06-02 16:11:40,637 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-8b' (not marked as free).
2025-06-02 16:11:40,637 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-14b' (not marked as free).
2025-06-02 16:11:40,637 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-32b' (not marked as free).
2025-06-02 16:11:40,637 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-235b-a22b' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-z1-rumination-32b' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-z1-32b' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-4-32b' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview:thinking' (not marked as free).
2025-06-02 16:11:40,638 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o4-mini-high' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o4-mini' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1-mini' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1-nano' (not marked as free).
2025-06-02 16:11:40,639 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eleutherai/llemma_7b' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alfredpros/codellama-7b-instruct-solidity' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-3-mini-beta' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-3-beta' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.3-nemotron-super-49b-v1' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.1-nemotron-ultra-253b-v1' (not marked as free).
2025-06-02 16:11:40,640 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-4-maverick' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-4-scout' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/all-hands/openhands-lm-32b-v0.1' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/scb10x/llama3.1-typhoon2-8b-instruct' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/scb10x/llama3.1-typhoon2-70b-instruct' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-pro-exp-03-25' (not marked as free).
2025-06-02 16:11:40,641 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen2.5-vl-32b-instruct' (not marked as free).
2025-06-02 16:11:40,642 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-chat-v3-0324' (not marked as free).
2025-06-02 16:11:40,642 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-pro' (not marked as free).
2025-06-02 16:11:40,642 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small-3.1-24b-instruct' (not marked as free).
2025-06-02 16:11:40,642 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-4b-it' (not marked as free).
2025-06-02 16:11:40,642 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/ai21/jamba-1.6-large' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/ai21/jamba-1.6-mini' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-12b-it' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-a' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini-search-preview' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-search-preview' (not marked as free).
2025-06-02 16:11:40,643 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-27b-it' (not marked as free).
2025-06-02 16:11:40,644 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/anubis-pro-105b-v1' (not marked as free).
2025-06-02 16:11:40,644 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/skyfall-36b-v2' (not marked as free).
2025-06-02 16:11:40,644 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4-multimodal-instruct' (not marked as free).
2025-06-02 16:11:40,644 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-reasoning-pro' (not marked as free).
2025-06-02 16:11:40,644 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-pro' (not marked as free).
2025-06-02 16:11:40,645 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-deep-research' (not marked as free).
2025-06-02 16:11:40,645 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwq-32b' (not marked as free).
2025-06-02 16:11:40,645 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.5-preview' (not marked as free).
2025-06-02 16:11:40,645 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.0-flash-lite-001' (not marked as free).
2025-06-02 16:11:40,645 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet' (not marked as free).
2025-06-02 16:11:40,646 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet:beta' (not marked as free).
2025-06-02 16:11:40,646 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet:thinking' (not marked as free).
2025-06-02 16:11:40,646 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/r1-1776' (not marked as free).
2025-06-02 16:11:40,646 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-saba' (not marked as free).
2025-06-02 16:11:40,646 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-3-8b' (not marked as free).
2025-06-02 16:11:40,647 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3-mini-high' (not marked as free).
2025-06-02 16:11:40,647 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-llama-8b' (not marked as free).
2025-06-02 16:11:40,647 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.0-flash-001' (not marked as free).
2025-06-02 16:11:40,647 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-vl-plus' (not marked as free).
2025-06-02 16:11:40,647 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-1.0' (not marked as free).
2025-06-02 16:11:40,648 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-1.0-mini' (not marked as free).
2025-06-02 16:11:40,648 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-rp-llama-3.1-8b' (not marked as free).
2025-06-02 16:11:40,648 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-vl-max' (not marked as free).
2025-06-02 16:11:40,648 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-turbo' (not marked as free).
2025-06-02 16:11:40,648 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen2.5-vl-72b-instruct' (not marked as free).
2025-06-02 16:11:40,649 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-plus' (not marked as free).
2025-06-02 16:11:40,649 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-max' (not marked as free).
2025-06-02 16:11:40,649 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3-mini' (not marked as free).
2025-06-02 16:11:40,649 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-1.5b' (not marked as free).
2025-06-02 16:11:40,649 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small-24b-instruct-2501' (not marked as free).
2025-06-02 16:11:40,650 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-32b' (not marked as free).
2025-06-02 16:11:40,650 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-14b' (not marked as free).
2025-06-02 16:11:40,650 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-reasoning' (not marked as free).
2025-06-02 16:11:40,650 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar' (not marked as free).
2025-06-02 16:11:40,650 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-7b' (not marked as free).
2025-06-02 16:11:40,651 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-3b' (not marked as free).
2025-06-02 16:11:40,651 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-llama-70b' (not marked as free).
2025-06-02 16:11:40,651 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1' (not marked as free).
2025-06-02 16:11:40,651 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/minimax/minimax-01' (not marked as free).
2025-06-02 16:11:40,651 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/codestral-2501' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-chat' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3.3-euryale-70b' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-llama-3.33-70b' (not marked as free).
2025-06-02 16:11:40,652 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-2-vision-1212' (not marked as free).
2025-06-02 16:11:40,653 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-2-1212' (not marked as free).
2025-06-02 16:11:40,653 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r7b-12-2024' (not marked as free).
2025-06-02 16:11:40,653 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.3-70b-instruct' (not marked as free).
2025-06-02 16:11:40,653 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-lite-v1' (not marked as free).
2025-06-02 16:11:40,653 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-micro-v1' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-pro-v1' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwq-32b-preview' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-qwen-2.5-72b' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-11-20' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large-2411' (not marked as free).
2025-06-02 16:11:40,654 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large-2407' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/pixtral-large-2411' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-vision-beta' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/infermatic/mn-inferor-12b' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-coder-32b-instruct' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/raifle/sorcererlm-8x22b' (not marked as free).
2025-06-02 16:11:40,655 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-qwen-2.5-32b' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/unslopnemo-12b' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku:beta' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku-20241022:beta' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku-20241022' (not marked as free).
2025-06-02 16:11:40,656 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3.1-lumimaid-70b' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthracite-org/magnum-v4-72b' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet:beta' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-beta' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/ministral-8b' (not marked as free).
2025-06-02 16:11:40,657 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/ministral-3b' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-7b-instruct' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.1-nemotron-70b-instruct' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inflection/inflection-3-productivity' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inflection/inflection-3-pi' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-flash-1.5-8b' (not marked as free).
2025-06-02 16:11:40,658 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/rocinante-12b' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthracite-org/magnum-v2-72b' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-40b' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-3b-instruct' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-1b-instruct' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-90b-vision-instruct' (not marked as free).
2025-06-02 16:11:40,659 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-11b-vision-instruct' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-72b-instruct' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3.1-lumimaid-8b' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-preview' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-preview-2024-09-12' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-mini' (not marked as free).
2025-06-02 16:11:40,660 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-mini-2024-09-12' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/pixtral-12b' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus-08-2024' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-08-2024' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-vl-7b-instruct' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3.1-euryale-70b' (not marked as free).
2025-06-02 16:11:40,661 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3.5-mini-128k-instruct' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-3-llama-3.1-70b' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-3-llama-3.1-405b' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/chatgpt-4o-latest' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3-lunaris-8b' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aetherwiing/mn-starcannon-12b' (not marked as free).
2025-06-02 16:11:40,662 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-08-06' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-405b' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nothingiisreal/mn-celeste-12b' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/llama-3.1-sonar-small-128k-online' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/llama-3.1-sonar-large-128k-online' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-8b-instruct' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-405b-instruct' (not marked as free).
2025-06-02 16:11:40,663 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-70b-instruct' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-nemo' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini-2024-07-18' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2-27b-it' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alpindale/magnum-72b' (not marked as free).
2025-06-02 16:11:40,664 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2-9b-it' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/01-ai/yi-large' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet-20240620:beta' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet-20240620' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3-euryale-70b' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cognitivecomputations/dolphin-mixtral-8x22b' (not marked as free).
2025-06-02 16:11:40,665 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2-72b-instruct' (not marked as free).
2025-06-02 16:11:40,666 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct' (not marked as free).
2025-06-02 16:11:40,666 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-2-pro-llama-3-8b' (not marked as free).
2025-06-02 16:11:40,666 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.3' (not marked as free).
2025-06-02 16:11:40,666 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3-mini-128k-instruct' (not marked as free).
2025-06-02 16:11:40,666 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3-medium-128k-instruct' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3-lumimaid-70b' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-flash-1.5' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o:extended' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-2-8b' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-05-13' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3-lumimaid-8b' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/fimbulvetr-11b-v2' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3-8b-instruct' (not marked as free).
2025-06-02 16:11:40,667 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3-70b-instruct' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mixtral-8x22b-instruct' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/wizardlm-2-8x22b' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-pro-1.5' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-turbo' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus-04-2024' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sophosympatheia/midnight-rose-70b' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-haiku:beta' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-haiku' (not marked as free).
2025-06-02 16:11:40,668 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-opus:beta' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-opus' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-sonnet:beta' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-sonnet' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-03-2024' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-0613' (not marked as free).
2025-06-02 16:11:40,669 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-turbo-preview' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/nous-hermes-2-mixtral-8x7b-dpo' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-medium' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-tiny' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.2' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mixtral-8x7b-instruct' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/noromaid-20b' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.1:beta' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.1' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2:beta' (not marked as free).
2025-06-02 16:11:40,670 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/undi95/toppy-m-7b' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alpindale/goliath-120b' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openrouter/auto' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-1106' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-1106-preview' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-instruct' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.1' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/pygmalionai/mythalion-13b' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-16k' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-32k' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-32k-0314' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mancer/weaver' (not marked as free).
2025-06-02 16:11:40,671 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.0:beta' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.0' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/undi95/remm-slerp-l2-13b' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/gryphe/mythomax-l2-13b' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-2-70b-chat' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-0125' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-0314' (not marked as free).
2025-06-02 16:11:40,672 - src.config.model_registry - INFO - Tier Filter (FREE): Included 68 models for reachable remote provider 'openrouter'. Skipped: 255.
2025-06-02 16:11:40,672 - src.config.model_registry - INFO - Filtering complete. Final available provider count: 1
2025-06-02 16:11:40,672 - src.config.model_registry - INFO - Provider and model discovery/filtering complete.
2025-06-02 16:11:40,673 - src.config.model_registry - INFO - --- Available Models (Filtered by Reachability & Tier) ---
2025-06-02 16:11:40,673 - src.config.model_registry - INFO -   openrouter (Remote): 68 models -> ['agentica-org/deepcoder-14b-preview:free', 'arliai/qwq-32b-arliai-rpr-v1:free', 'cognitivecomputations/dolphin3.0-mistral-24b:free', 'cognitivecomputations/dolphin3.0-r1-mistral-24b:free', 'deepseek/deepseek-chat-v3-0324:free', 'deepseek/deepseek-chat:free', 'deepseek/deepseek-prover-v2:free', 'deepseek/deepseek-r1-0528-qwen3-8b:free', 'deepseek/deepseek-r1-0528:free', 'deepseek/deepseek-r1-distill-llama-70b:free', 'deepseek/deepseek-r1-distill-qwen-14b:free', 'deepseek/deepseek-r1-distill-qwen-32b:free', 'deepseek/deepseek-r1-zero:free', 'deepseek/deepseek-r1:free', 'deepseek/deepseek-v3-base:free', 'featherless/qwerky-72b:free', 'google/gemini-2.0-flash-exp:free', 'google/gemma-2-9b-it:free', 'google/gemma-3-12b-it:free', 'google/gemma-3-1b-it:free', 'google/gemma-3-27b-it:free', 'google/gemma-3-4b-it:free', 'google/gemma-3n-e4b-it:free', 'meta-llama/llama-3.1-405b:free', 'meta-llama/llama-3.1-8b-instruct:free', 'meta-llama/llama-3.2-11b-vision-instruct:free', 'meta-llama/llama-3.2-1b-instruct:free', 'meta-llama/llama-3.2-3b-instruct:free', 'meta-llama/llama-3.3-70b-instruct:free', 'meta-llama/llama-3.3-8b-instruct:free', 'meta-llama/llama-4-maverick:free', 'meta-llama/llama-4-scout:free', 'microsoft/mai-ds-r1:free', 'microsoft/phi-4-reasoning-plus:free', 'microsoft/phi-4-reasoning:free', 'mistralai/devstral-small:free', 'mistralai/mistral-7b-instruct:free', 'mistralai/mistral-nemo:free', 'mistralai/mistral-small-24b-instruct-2501:free', 'mistralai/mistral-small-3.1-24b-instruct:free', 'moonshotai/kimi-vl-a3b-thinking:free', 'moonshotai/moonlight-16b-a3b-instruct:free', 'nousresearch/deephermes-3-llama-3-8b-preview:free', 'nousresearch/deephermes-3-mistral-24b-preview:free', 'nvidia/llama-3.1-nemotron-ultra-253b-v1:free', 'nvidia/llama-3.3-nemotron-super-49b-v1:free', 'open-r1/olympiccoder-32b:free', 'opengvlab/internvl3-14b:free', 'opengvlab/internvl3-2b:free', 'qwen/qwen-2.5-72b-instruct:free', 'qwen/qwen-2.5-7b-instruct:free', 'qwen/qwen-2.5-coder-32b-instruct:free', 'qwen/qwen-2.5-vl-7b-instruct:free', 'qwen/qwen2.5-vl-32b-instruct:free', 'qwen/qwen2.5-vl-3b-instruct:free', 'qwen/qwen2.5-vl-72b-instruct:free', 'qwen/qwen3-14b:free', 'qwen/qwen3-235b-a22b:free', 'qwen/qwen3-30b-a3b:free', 'qwen/qwen3-32b:free', 'qwen/qwen3-8b:free', 'qwen/qwq-32b:free', 'rekaai/reka-flash-3:free', 'sarvamai/sarvam-m:free', 'shisa-ai/shisa-v2-llama3.3-70b:free', 'thudm/glm-4-32b:free', 'thudm/glm-z1-32b:free', 'tngtech/deepseek-r1t-chimera:free']
2025-06-02 16:11:40,673 - src.config.model_registry - INFO - -------------------------------------------------------------
2025-06-02 16:11:40,673 - src.main - INFO - Lifespan: Provider and model discovery completed.
2025-06-02 16:11:40,673 - src.main - INFO - Lifespan: Initializing bootstrap agents...
2025-06-02 16:11:40,673 - src.agents.agent_lifecycle - INFO - Lifecycle: Initializing bootstrap agents...
2025-06-02 16:11:40,674 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Retrieved formatted available models for Admin AI prompt.
2025-06-02 16:11:40,674 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'admin_ai' configuration...
2025-06-02 16:11:40,674 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'admin_ai' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-02 16:11:40,675 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,675 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'admin_ai' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-02 16:11:40,675 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'admin_ai' to _create_agent_internal.
2025-06-02 16:11:40,675 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'admin_ai' with final config: {'system_prompt': 'Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n', 'temperature': 0.6, 'persona': 'Admin AI (@admin_ai)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free'}
2025-06-02 16:11:40,675 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-02 16:11:40,675 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'admin_ai'.
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'constitutional_guardian_ai' configuration...
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'constitutional_guardian_ai' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-02 16:11:40,676 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'constitutional_guardian_ai' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'constitutional_guardian_ai' to _create_agent_internal.
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'constitutional_guardian_ai' with final config: {'temperature': 0.1, 'persona': 'Constitutional Guardian (@cg_agent)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free', 'system_prompt': ''}
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-02 16:11:40,676 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'constitutional_guardian_ai'.
2025-06-02 16:11:40,677 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'vision_agent' configuration...
2025-06-02 16:11:40,677 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'vision_agent' defined in config.yaml: Provider='openrouter', Model='google/gemma-3-27b-it:free'
2025-06-02 16:11:40,678 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,678 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'vision_agent' provider/model specified in config.yaml: openrouter/google/gemma-3-27b-it:free
2025-06-02 16:11:40,678 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'vision_agent' to _create_agent_internal.
2025-06-02 16:11:40,678 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'vision_agent' with final config: {'temperature': 0.3, 'persona': 'Vision Processor (@vision_agent)', 'provider': 'openrouter', 'model': 'google/gemma-3-27b-it:free', 'system_prompt': ''}
2025-06-02 16:11:40,678 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'vision_agent'.
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'project_manager_agent' configuration...
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'project_manager_agent' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-02 16:11:40,679 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'project_manager_agent' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'project_manager_agent' to _create_agent_internal.
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'project_manager_agent' with final config: {'temperature': 0.6, 'persona': 'Project Manager (@pm_agent)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free', 'system_prompt': ''}
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-02 16:11:40,679 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'project_manager_agent'.
2025-06-02 16:11:40,680 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'admin_ai' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-02 16:11:40,680 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,680 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-02 16:11:40,680 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'admin_ai'.
2025-06-02 16:11:40,680 - src.agents.provider_key_manager - INFO - Providing active key (Index 0) for provider 'openrouter'.
2025-06-02 16:11:40,680 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-02 16:11:40,735 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x7fd41e388dd0>. Tool support via XML parsing by Agent.
2025-06-02 16:11:40,735 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'admin_ai'.
2025-06-02 16:11:40,735 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'admin_ai' as 'admin'.
2025-06-02 16:11:40,737 - src.agents.core - INFO - Agent admin_ai: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,737 - src.agents.core - INFO - Agent admin_ai (Admin AI (@admin_ai)) initialized. Type: admin. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-02 16:11:40,738 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'admin_ai'.
2025-06-02 16:11:40,738 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'admin_ai' (admin) from 'None' to 'startup'.
2025-06-02 16:11:40,738 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for admin agent 'admin_ai' to 'startup' via WorkflowManager.
2025-06-02 16:11:40,738 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'constitutional_guardian_ai' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-02 16:11:40,738 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,738 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-02 16:11:40,739 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'constitutional_guardian_ai'.
2025-06-02 16:11:40,739 - src.agents.provider_key_manager - INFO - Providing active key (Index 1) for provider 'openrouter'.
2025-06-02 16:11:40,739 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-02 16:11:40,778 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x7fd41e3886b0>. Tool support via XML parsing by Agent.
2025-06-02 16:11:40,778 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'constitutional_guardian_ai'.
2025-06-02 16:11:40,778 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'constitutional_guardian_ai' as 'worker'.
2025-06-02 16:11:40,779 - src.agents.core - INFO - Agent constitutional_guardian_ai: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,779 - src.agents.core - INFO - Agent constitutional_guardian_ai (Constitutional Guardian (@cg_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-02 16:11:40,779 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'constitutional_guardian_ai'.
2025-06-02 16:11:40,779 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'constitutional_guardian_ai' (worker) from 'None' to 'worker_startup'.
2025-06-02 16:11:40,779 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'constitutional_guardian_ai' to 'worker_startup' via WorkflowManager.
2025-06-02 16:11:40,779 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'vision_agent' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-02 16:11:40,780 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,780 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='google/gemma-3-27b-it:free'. Canonical stored: 'google/gemma-3-27b-it:free'.
2025-06-02 16:11:40,780 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'vision_agent'.
2025-06-02 16:11:40,780 - src.agents.provider_key_manager - INFO - Providing active key (Index 2) for provider 'openrouter'.
2025-06-02 16:11:40,780 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-02 16:11:40,823 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x7fd41e3f27b0>. Tool support via XML parsing by Agent.
2025-06-02 16:11:40,823 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'vision_agent'.
2025-06-02 16:11:40,823 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'vision_agent' as 'worker'.
2025-06-02 16:11:40,823 - src.agents.core - INFO - Agent vision_agent: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,823 - src.agents.core - INFO - Agent vision_agent (Vision Processor (@vision_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: google/gemma-3-27b-it:free.
2025-06-02 16:11:40,824 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'vision_agent'.
2025-06-02 16:11:40,824 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'vision_agent' (worker) from 'None' to 'worker_startup'.
2025-06-02 16:11:40,824 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'vision_agent' to 'worker_startup' via WorkflowManager.
2025-06-02 16:11:40,824 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'project_manager_agent' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-02 16:11:40,825 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-02 16:11:40,825 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-02 16:11:40,825 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'project_manager_agent'.
2025-06-02 16:11:40,825 - src.agents.provider_key_manager - INFO - Providing active key (Index 3) for provider 'openrouter'.
2025-06-02 16:11:40,825 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-02 16:11:40,867 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x7fd41e3f2ff0>. Tool support via XML parsing by Agent.
2025-06-02 16:11:40,867 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'project_manager_agent'.
2025-06-02 16:11:40,867 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'project_manager_agent' as 'worker'.
2025-06-02 16:11:40,868 - src.agents.core - INFO - Agent project_manager_agent: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-02 16:11:40,868 - src.agents.core - INFO - Agent project_manager_agent (Project Manager (@pm_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-02 16:11:40,868 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'project_manager_agent'.
2025-06-02 16:11:40,868 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'project_manager_agent' (worker) from 'None' to 'worker_startup'.
2025-06-02 16:11:40,868 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'project_manager_agent' to 'worker_startup' via WorkflowManager.
2025-06-02 16:11:40,869 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'admin_ai' to manager.agents dictionary...
2025-06-02 16:11:40,869 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'admin_ai' to manager.agents dict. Current keys: ['admin_ai']
2025-06-02 16:11:40,869 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'constitutional_guardian_ai' to manager.agents dictionary...
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'constitutional_guardian_ai' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai']
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'vision_agent' to manager.agents dictionary...
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'vision_agent' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent']
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'project_manager_agent' to manager.agents dictionary...
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'project_manager_agent' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent', 'project_manager_agent']
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Gathered bootstrap agent creation results (Count: 4): [(True, "Agent 'admin_ai' (Admin AI (@admin_ai)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'admin_ai'), (True, "Agent 'constitutional_guardian_ai' (Constitutional Guardian (@cg_agent)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'constitutional_guardian_ai'), (True, "Agent 'vision_agent' (Vision Processor (@vision_agent)) created successfully using google/gemma-3-27b-it:free (specified).", 'vision_agent'), (True, "Agent 'project_manager_agent' (Project Manager (@pm_agent)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'project_manager_agent')]
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'admin_ai' initialized. ---
2025-06-02 16:11:40,870 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'constitutional_guardian_ai' initialized. ---
2025-06-02 16:11:40,871 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'vision_agent' initialized. ---
2025-06-02 16:11:40,871 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'project_manager_agent' initialized. ---
2025-06-02 16:11:40,871 - src.agents.agent_lifecycle - INFO - Lifecycle: Finished bootstrap initialization. Active: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent', 'project_manager_agent']
2025-06-02 16:11:40,873 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,873 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0b6d40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'admin_ai'))
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0b6d40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'admin_ai')) completed
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0b6d40>)
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0b6d40>) completed
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0b6d40>)
2025-06-02 16:11:40,874 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0b6d40>) completed
2025-06-02 16:11:40,876 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,876 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,876 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e325ec0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('admin_ai', 1, 'Admin AI (@admin_ai)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \\"I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea.\\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\\n", "persona": "Admin AI (@admin_ai)", "temperature": 0.6, "agent_type": "admin"}'))
2025-06-02 16:11:40,877 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e325ec0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('admin_ai', 1, 'Admin AI (@admin_ai)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \\"I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea.\\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\\n", "persona": "Admin AI (@admin_ai)", "temperature": 0.6, "agent_type": "admin"}')) completed
2025-06-02 16:11:40,877 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e325ec0>)
2025-06-02 16:11:40,877 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e325ec0>) completed
2025-06-02 16:11:40,877 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e325ec0>)
2025-06-02 16:11:40,878 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e325ec0>) completed
2025-06-02 16:11:40,879 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e325ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (1,))
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e325ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (1,)) completed
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e325ec0>)
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e325ec0>) completed
2025-06-02 16:11:40,880 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e325ec0>)
2025-06-02 16:11:40,881 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e325ec0>) completed
2025-06-02 16:11:40,881 - src.core.database_manager - INFO - Added record for agent 'admin_ai' (Persona: 'Admin AI (@admin_ai)') in Session ID 1.
2025-06-02 16:11:40,881 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,895 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,896 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,896 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,896 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,896 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,897 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,897 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'constitutional_guardian_ai'))
2025-06-02 16:11:40,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'constitutional_guardian_ai')) completed
2025-06-02 16:11:40,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,898 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,898 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('constitutional_guardian_ai', 1, 'Constitutional Guardian (@cg_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Constitutional Guardian (@cg_agent)", "temperature": 0.1, "agent_type": "worker"}'))
2025-06-02 16:11:40,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('constitutional_guardian_ai', 1, 'Constitutional Guardian (@cg_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Constitutional Guardian (@cg_agent)", "temperature": 0.1, "agent_type": "worker"}')) completed
2025-06-02 16:11:40,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (2,))
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d4ec0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (2,)) completed
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>)
2025-06-02 16:11:40,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d4ec0>) completed
2025-06-02 16:11:40,903 - src.core.database_manager - INFO - Added record for agent 'constitutional_guardian_ai' (Persona: 'Constitutional Guardian (@cg_agent)') in Session ID 1.
2025-06-02 16:11:40,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,919 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,920 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,920 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,920 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,921 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,922 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'vision_agent'))
2025-06-02 16:11:40,923 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'vision_agent')) completed
2025-06-02 16:11:40,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('vision_agent', 1, 'Vision Processor (@vision_agent)', '{"provider": "openrouter", "model": "google/gemma-3-27b-it:free", "system_prompt": "", "persona": "Vision Processor (@vision_agent)", "temperature": 0.3, "agent_type": "worker"}'))
2025-06-02 16:11:40,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('vision_agent', 1, 'Vision Processor (@vision_agent)', '{"provider": "openrouter", "model": "google/gemma-3-27b-it:free", "system_prompt": "", "persona": "Vision Processor (@vision_agent)", "temperature": 0.3, "agent_type": "worker"}')) completed
2025-06-02 16:11:40,926 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,926 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,927 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,927 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,928 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (3,))
2025-06-02 16:11:40,928 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d69c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (3,)) completed
2025-06-02 16:11:40,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>)
2025-06-02 16:11:40,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d69c0>) completed
2025-06-02 16:11:40,929 - src.core.database_manager - INFO - Added record for agent 'vision_agent' (Persona: 'Vision Processor (@vision_agent)') in Session ID 1.
2025-06-02 16:11:40,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,952 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,953 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,953 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,953 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,954 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,955 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,955 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,955 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'project_manager_agent'))
2025-06-02 16:11:40,956 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'project_manager_agent')) completed
2025-06-02 16:11:40,956 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,956 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,956 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,957 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,958 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,958 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,958 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('project_manager_agent', 1, 'Project Manager (@pm_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Project Manager (@pm_agent)", "temperature": 0.6, "agent_type": "worker"}'))
2025-06-02 16:11:40,959 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('project_manager_agent', 1, 'Project Manager (@pm_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Project Manager (@pm_agent)", "temperature": 0.6, "agent_type": "worker"}')) completed
2025-06-02 16:11:40,959 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,959 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,959 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,959 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,961 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (4,))
2025-06-02 16:11:40,961 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0d41c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (4,)) completed
2025-06-02 16:11:40,962 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,962 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>)
2025-06-02 16:11:40,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0d41c0>) completed
2025-06-02 16:11:40,962 - src.core.database_manager - INFO - Added record for agent 'project_manager_agent' (Persona: 'Project Manager (@pm_agent)') in Session ID 1.
2025-06-02 16:11:40,963 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,979 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,979 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:11:40,979 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:11:40,979 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:11:40,980 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:11:40,980 - src.main - INFO - Lifespan: Bootstrap agent initialization task completed.
2025-06-02 16:11:40,980 - src.main - INFO - Application startup complete. Ready to accept requests.
2025-06-02 16:11:41,681 - src.api.websocket_manager - INFO - New WebSocket connection from 127.0.0.1. Total clients: 1
2025-06-02 16:12:05,802 - src.api.websocket_manager - INFO - WebSocket connection closed cleanly by 127.0.0.1.
2025-06-02 16:12:05,802 - src.api.websocket_manager - INFO - WebSocket connection for 127.0.0.1 removed. Total clients: 0
2025-06-02 16:12:05,905 - src.api.websocket_manager - INFO - New WebSocket connection from 127.0.0.1. Total clients: 1
2025-06-02 16:12:11,464 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: Hello!...
2025-06-02 16:12:11,464 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-02 16:12:11,473 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:11,474 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:11,476 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0fddc0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Hello!', 'null', 'null'))
2025-06-02 16:12:11,477 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0fddc0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Hello!', 'null', 'null')) completed
2025-06-02 16:12:11,480 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0fddc0>)
2025-06-02 16:12:11,480 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0fddc0>) completed
2025-06-02 16:12:11,481 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0fddc0>)
2025-06-02 16:12:11,482 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0fddc0>) completed
2025-06-02 16:12:11,487 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:11,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:11,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0fddc0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (1,))
2025-06-02 16:12:11,488 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41d0fddc0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (1,)) completed
2025-06-02 16:12:11,489 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0fddc0>)
2025-06-02 16:12:11,489 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41d0fddc0>) completed
2025-06-02 16:12:11,490 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0fddc0>)
2025-06-02 16:12:11,490 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41d0fddc0>) completed
2025-06-02 16:12:11,491 - src.core.database_manager - DEBUG - Logged interaction ID 1 (Agent: human_user, Role: user) for Session ID 1.
2025-06-02 16:12:11,491 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:11,505 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:11,506 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:11,506 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:11,506 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:12:11,507 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:12:11,507 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-02 16:12:11,507 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-53 for agent 'admin_ai' cycle.
2025-06-02 16:12:11,507 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-02 16:12:11,508 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 1) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  }
]
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 3):
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 
--- Current State: STARTUP ---

--- Start Standard Protocol ---
[SYSTEM CONTEXT]
- Your Agent ID: `admin_ai`
- Your Agent Type: `admin`
- Current Session: `startup_1748851900`
- Current Time (UTC): `...
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-02 16:12:11,508 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-02 16:12:11,509 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-02 16:12:11,509 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 3. State: startup
2025-06-02 16:12:11,509 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 3.
2025-06-02 16:12:11,509 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-02 16:12:11,509 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n--- Current State: STARTUP ---\n\n--- Start Standard Protocol ---\n[SYSTEM CONTEXT]\n- Your Agent ID: `admin_ai`\n- Your Agent Type: `admin`\n- Current Session: `startup_1748851900`\n- Current Time (UTC): `2025-06-02 08:12:11+00:00`\n\n[CONTACTS]\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n[IMPORTANT]\nEnclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags to get them saved in your knowledge base.\n\n[TOOL USE]\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n\n--- End Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n[YOUR GOAL]\nAs the Admin AI of TrippleEffects, welcome the user, quickly understand their immediate needs, and call the correct next state, planning or conversation.\n\n[WORKFLOW]\nKeep it short in startup state and call a state change as soon as possible!\n1.  **Welcome The User:** Welcome the user to TrippleEffect, the highly capable agentic framework, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything in startup state!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message, then you need to call `<request_state state='conversation'>`. \n\n[EXAMPLE WELCOME]\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n[EXAMPLE STATE CHANGE CALL]\n`<request_state state='planning'>`\n\n[REMEMBER]\n- DO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\n- DO NOT plan, outline, prepare or code anything while in startup state!!! Just call the correct state change!\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-02 16:12:11,705 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-a161e0d8-4732-46dd-87c2-98e3c1b84181', 'json_data': {'messages': [{'role': 'system', 'content': '\n--- Current State: STARTUP ---\n\n--- Start Standard Protocol ---\n[SYSTEM CONTEXT]\n- Your Agent ID: `admin_ai`\n- Your Agent Type: `admin`\n- Current Session: `startup_1748851900`\n- Current Time (UTC): `2025-06-02 08:12:11+00:00`\n\n[CONTACTS]\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n[IMPORTANT]\nEnclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags to get them saved in your knowledge base.\n\n[TOOL USE]\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n\n--- End Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n[YOUR GOAL]\nAs the Admin AI of TrippleEffects, welcome the user, quickly understand their immediate needs, and call the correct next state, planning or conversation.\n\n[WORKFLOW]\nKeep it short in startup state and call a state change as soon as possible!\n1.  **Welcome The User:** Welcome the user to TrippleEffect, the highly capable agentic framework, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything in startup state!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message, then you need to call `<request_state state=\'conversation\'>`. \n\n[EXAMPLE WELCOME]\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n[EXAMPLE STATE CHANGE CALL]\n`<request_state state=\'planning\'>`\n\n[REMEMBER]\n- DO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\n- DO NOT plan, outline, prepare or code anything while in startup state!!! Just call the correct state change!\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-02 16:12:11,706 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-02 16:12:11,707 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-02 16:12:11,777 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407dcaf00>
2025-06-02 16:12:11,778 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd41d0b63d0> server_hostname='openrouter.ai' timeout=5.0
2025-06-02 16:12:13,441 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407ff67e0>
2025-06-02 16:12:13,441 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-02 16:12:13,442 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-02 16:12:13,443 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-02 16:12:13,443 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-02 16:12:13,443 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-02 16:12:16,311 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 02 Jun 2025 08:12:16 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94957c087e03ec79-ADL')])
2025-06-02 16:12:16,313 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-02 16:12:16,314 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Mon, 02 Jun 2025 08:12:16 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '94957c087e03ec79-ADL'})
2025-06-02 16:12:16,315 - openai._base_client - DEBUG - request_id: None
2025-06-02 16:12:16,315 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-02 16:12:16,316 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-02 16:12:16,320 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,323 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,327 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,331 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,334 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,337 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,340 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,344 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,348 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,351 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,355 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,357 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,359 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,361 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,362 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,364 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,364 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,365 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,366 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,367 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,368 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,370 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,372 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,375 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-02 16:12:16,376 - httpcore.http11 - DEBUG - response_closed.started
2025-06-02 16:12:16,376 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-02 16:12:16,376 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-02 16:12:16,377 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-02 16:12:16,377 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-02 16:12:16,377 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?
<<<
2025-06-02 16:12:16,377 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 95):
>>>
Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?
<<<
2025-06-02 16:12:16,378 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-02 16:12:16,378 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-02 16:12:16,378 - src.agents.cycle_handler - INFO - Requesting CG verdict via stream_completion for text: 'Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?...'
2025-06-02 16:12:16,378 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 2.
2025-06-02 16:12:16,378 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.1, 'stream': True, 'max_tokens': 250}
2025-06-02 16:12:16,379 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n--- Constitutional Guardian Agent ---\n\n[YOUR GOAL]\nYour SOLE PURPOSE is to review the agent output against the stipulated Governance Principles.\n\n[GOVERNANCE PRINCIPLES]\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n[WORKFLOW]\n1.  Compare the agent output against each of the Governance Principles.\n2.  If the output fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the output potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n[CRITICAL RULES]\n- You **MUST NOT** engage in any conversation.\n- You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n- Do not use pleasantries or any other text outside these tags.\n- If in doubt, err on the side of caution and raise a CONCERN.\n\n[EXAMPLE CONCERN OUTPUT]\n`<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n\n[EXAMPLE COMPLIANT OUTPUT]\n`<OK/>`\n"
    },
    {
      "role": "system",
      "content": "---\nText for Constitutional Review:\n---\nHello! It's nice to meet you. Is there something I can help you with or would you like to chat?"
    }
  ],
  "temperature": 0.1,
  "stream": true,
  "max_tokens": 250
}
2025-06-02 16:12:16,380 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-915482a6-4ee3-4d19-8109-5f1bb68074a6', 'json_data': {'messages': [{'role': 'system', 'content': '\n--- Constitutional Guardian Agent ---\n\n[YOUR GOAL]\nYour SOLE PURPOSE is to review the agent output against the stipulated Governance Principles.\n\n[GOVERNANCE PRINCIPLES]\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n[WORKFLOW]\n1.  Compare the agent output against each of the Governance Principles.\n2.  If the output fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the output potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n[CRITICAL RULES]\n- You **MUST NOT** engage in any conversation.\n- You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n- Do not use pleasantries or any other text outside these tags.\n- If in doubt, err on the side of caution and raise a CONCERN.\n\n[EXAMPLE CONCERN OUTPUT]\n`<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n\n[EXAMPLE COMPLIANT OUTPUT]\n`<OK/>`\n'}, {'role': 'system', 'content': "---\nText for Constitutional Review:\n---\nHello! It's nice to meet you. Is there something I can help you with or would you like to chat?"}], 'model': 'meta-llama/llama-4-maverick:free', 'max_tokens': 250, 'stream': True, 'temperature': 0.1}}
2025-06-02 16:12:16,381 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-02 16:12:16,381 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-02 16:12:16,426 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407df0cb0>
2025-06-02 16:12:16,426 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd41d0b7c50> server_hostname='openrouter.ai' timeout=5.0
2025-06-02 16:12:16,719 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407dcbfb0>
2025-06-02 16:12:16,720 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-02 16:12:16,721 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-02 16:12:16,722 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-02 16:12:16,723 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-02 16:12:16,723 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-02 16:12:19,380 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 02 Jun 2025 08:12:19 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94957c1cfa98ed77-ADL')])
2025-06-02 16:12:19,382 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-02 16:12:19,383 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Mon, 02 Jun 2025 08:12:19 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '94957c1cfa98ed77-ADL'})
2025-06-02 16:12:19,383 - openai._base_client - DEBUG - request_id: None
2025-06-02 16:12:19,384 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-02 16:12:19,384 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-02 16:12:19,697 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-02 16:12:19,698 - httpcore.http11 - DEBUG - response_closed.started
2025-06-02 16:12:19,698 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-02 16:12:19,699 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-02 16:12:19,700 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-02 16:12:19,700 - src.agents.cycle_handler - INFO - CG Verdict received (raw full text from stream): 'This text does not appear to contain any constitutional content or issues that would require a review. It seems to be a friendly greeting or introduction. There is no substantial text related to constitutional matters to analyze or review.'
2025-06-02 16:12:19,701 - src.agents.cycle_handler - WARNING - CG verdict 'This text does not appear to contain any constitutional content or issues that would require a review. It seems to be a friendly greeting or introduction. There is no substantial text related to constitutional matters to analyze or review.' does not contain '<OK/>' or '<CONCERN>'. Treating as malformed.
2025-06-02 16:12:19,701 - src.agents.cycle_handler - INFO - CG CONCERN for agent 'admin_ai'. Pausing agent and notifying UI.
2025-06-02 16:12:19,702 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'awaiting_user_review_cg'
2025-06-02 16:12:19,703 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: awaiting_user_review_cg
2025-06-02 16:12:19,704 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=8196.21ms
2025-06-02 16:12:19,704 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 1, 'failure_count': 0, 'total_duration_ms': 8196.21097900017, 'call_count': 1}
2025-06-02 16:12:19,705 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 140549016817872, History ID: 140548997227584, History Len: 1, History Preview: [{"role": "user", "content": "Hello!"}]...
2025-06-02 16:12:19,705 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-02 16:12:19,705 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 140549016817872, History ID: 140548997227584, History Len: 1, History Preview: [{"role": "user", "content": "Hello!"}]...
2025-06-02 16:12:19,706 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: awaiting_user_review_cg. State: startup
2025-06-02 16:12:28,318 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: {"type":"cg_concern_response","action":"acknowledge_cg_concern","original_text":"Hello! It\\'s nice to meet you. Is there something I can help you wit...
2025-06-02 16:12:28,319 - src.api.websocket_manager - INFO - Received cg_concern_response from 127.0.0.1.
2025-06-02 16:12:28,320 - src.api.websocket_manager - DEBUG - Forwarding 'acknowledge' for CG concern for agent 'admin_ai' to AgentManager.
2025-06-02 16:12:28,320 - src.agents.manager - INFO - User approved original output for agent 'admin_ai' despite CG concern.
2025-06-02 16:12:28,324 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:28,326 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:28,328 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4d40>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?", 'null', 'null'))
2025-06-02 16:12:28,329 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4d40>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?", 'null', 'null')) completed
2025-06-02 16:12:28,333 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4d40>)
2025-06-02 16:12:28,334 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4d40>) completed
2025-06-02 16:12:28,335 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4d40>)
2025-06-02 16:12:28,336 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4d40>) completed
2025-06-02 16:12:28,345 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:28,346 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:28,347 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4d40>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (2,))
2025-06-02 16:12:28,347 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4d40>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (2,)) completed
2025-06-02 16:12:28,348 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4d40>)
2025-06-02 16:12:28,348 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4d40>) completed
2025-06-02 16:12:28,348 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4d40>)
2025-06-02 16:12:28,348 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4d40>) completed
2025-06-02 16:12:28,349 - src.core.database_manager - DEBUG - Logged interaction ID 2 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-02 16:12:28,350 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:28,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:28,369 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:12:28,369 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:12:28,370 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:12:28,370 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:12:28,371 - src.agents.core - INFO - Agent admin_ai: Status changed from 'awaiting_user_review_cg' to 'idle'
2025-06-02 16:12:28,371 - src.agents.manager - INFO - Agent 'admin_ai' output approved by user. Status set to IDLE.
2025-06-02 16:12:40,245 - src.agents.manager - DEBUG - Running periodic PM manage check...
2025-06-02 16:13:01,263 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: Please develop a cool browser based snake game. Thanks!...
2025-06-02 16:13:01,264 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-02 16:13:01,268 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:01,269 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:01,270 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df7d40>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Please develop a cool browser based snake game. Thanks!', 'null', 'null'))
2025-06-02 16:13:01,271 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df7d40>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Please develop a cool browser based snake game. Thanks!', 'null', 'null')) completed
2025-06-02 16:13:01,272 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df7d40>)
2025-06-02 16:13:01,273 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df7d40>) completed
2025-06-02 16:13:01,274 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df7d40>)
2025-06-02 16:13:01,275 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df7d40>) completed
2025-06-02 16:13:01,278 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:01,279 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:01,280 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df7d40>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (3,))
2025-06-02 16:13:01,281 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df7d40>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (3,)) completed
2025-06-02 16:13:01,282 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df7d40>)
2025-06-02 16:13:01,282 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df7d40>) completed
2025-06-02 16:13:01,283 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df7d40>)
2025-06-02 16:13:01,283 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df7d40>) completed
2025-06-02 16:13:01,285 - src.core.database_manager - DEBUG - Logged interaction ID 3 (Agent: human_user, Role: user) for Session ID 1.
2025-06-02 16:13:01,286 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:01,304 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:01,305 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:01,305 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:01,305 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:13:01,306 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:13:01,306 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-02 16:13:01,306 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-63 for agent 'admin_ai' cycle.
2025-06-02 16:13:01,306 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-02 16:13:01,307 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-02 16:13:01,307 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-02 16:13:01,307 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 3) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  },
  {
    "role": "assistant",
    "content": "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?"
  },
  {
    "role": "user",
    "content": "Please develop a cool browser based snake game. Thanks!"
  }
]
2025-06-02 16:13:01,307 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-02 16:13:01,307 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 5):
2025-06-02 16:13:01,308 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 
--- Current State: STARTUP ---

--- Start Standard Protocol ---
[SYSTEM CONTEXT]
- Your Agent ID: `admin_ai`
- Your Agent Type: `admin`
- Current Session: `startup_1748851900`
- Current Time (UTC): `...
2025-06-02 16:13:01,308 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-02 16:13:01,308 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-02 16:13:01,308 - src.agents.cycle_components.prompt_assembler - DEBUG -   [3] Role: assistant, Content: Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?
2025-06-02 16:13:01,308 - src.agents.cycle_components.prompt_assembler - DEBUG -   [4] Role: user, Content: Please develop a cool browser based snake game. Thanks!
2025-06-02 16:13:01,308 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-02 16:13:01,309 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 5. State: startup
2025-06-02 16:13:01,309 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 5.
2025-06-02 16:13:01,309 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-02 16:13:01,309 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n--- Current State: STARTUP ---\n\n--- Start Standard Protocol ---\n[SYSTEM CONTEXT]\n- Your Agent ID: `admin_ai`\n- Your Agent Type: `admin`\n- Current Session: `startup_1748851900`\n- Current Time (UTC): `2025-06-02 08:13:01+00:00`\n\n[CONTACTS]\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n[IMPORTANT]\nEnclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags to get them saved in your knowledge base.\n\n[TOOL USE]\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n\n--- End Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n[YOUR GOAL]\nAs the Admin AI of TrippleEffects, welcome the user, quickly understand their immediate needs, and call the correct next state, planning or conversation.\n\n[WORKFLOW]\nKeep it short in startup state and call a state change as soon as possible!\n1.  **Welcome The User:** Welcome the user to TrippleEffect, the highly capable agentic framework, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything in startup state!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message, then you need to call `<request_state state='conversation'>`. \n\n[EXAMPLE WELCOME]\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n[EXAMPLE STATE CHANGE CALL]\n`<request_state state='planning'>`\n\n[REMEMBER]\n- DO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\n- DO NOT plan, outline, prepare or code anything while in startup state!!! Just call the correct state change!\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    },
    {
      "role": "assistant",
      "content": "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?"
    },
    {
      "role": "user",
      "content": "Please develop a cool browser based snake game. Thanks!"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-02 16:13:01,312 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-e0cf8053-5822-47ca-a60d-865f9cc74f47', 'json_data': {'messages': [{'role': 'system', 'content': '\n--- Current State: STARTUP ---\n\n--- Start Standard Protocol ---\n[SYSTEM CONTEXT]\n- Your Agent ID: `admin_ai`\n- Your Agent Type: `admin`\n- Current Session: `startup_1748851900`\n- Current Time (UTC): `2025-06-02 08:13:01+00:00`\n\n[CONTACTS]\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n[IMPORTANT]\nEnclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags to get them saved in your knowledge base.\n\n[TOOL USE]\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n\n--- End Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n[YOUR GOAL]\nAs the Admin AI of TrippleEffects, welcome the user, quickly understand their immediate needs, and call the correct next state, planning or conversation.\n\n[WORKFLOW]\nKeep it short in startup state and call a state change as soon as possible!\n1.  **Welcome The User:** Welcome the user to TrippleEffect, the highly capable agentic framework, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything in startup state!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message, then you need to call `<request_state state=\'conversation\'>`. \n\n[EXAMPLE WELCOME]\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n[EXAMPLE STATE CHANGE CALL]\n`<request_state state=\'planning\'>`\n\n[REMEMBER]\n- DO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\n- DO NOT plan, outline, prepare or code anything while in startup state!!! Just call the correct state change!\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}, {'role': 'assistant', 'content': "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?"}, {'role': 'user', 'content': 'Please develop a cool browser based snake game. Thanks!'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-02 16:13:01,313 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-02 16:13:01,313 - httpcore.connection - DEBUG - close.started
2025-06-02 16:13:01,314 - httpcore.connection - DEBUG - close.complete
2025-06-02 16:13:01,315 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-02 16:13:01,436 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407df3050>
2025-06-02 16:13:01,436 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd41d0b63d0> server_hostname='openrouter.ai' timeout=5.0
2025-06-02 16:13:01,500 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd41d09dc70>
2025-06-02 16:13:01,501 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-02 16:13:01,503 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-02 16:13:01,504 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-02 16:13:01,505 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-02 16:13:01,506 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-02 16:13:04,027 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 02 Jun 2025 08:13:03 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94957d34d869ec82-ADL')])
2025-06-02 16:13:04,028 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-02 16:13:04,029 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Mon, 02 Jun 2025 08:13:03 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '94957d34d869ec82-ADL'})
2025-06-02 16:13:04,030 - openai._base_client - DEBUG - request_id: None
2025-06-02 16:13:04,030 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-02 16:13:04,031 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-02 16:13:04,034 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,036 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,037 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,038 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,039 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,043 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-02 16:13:04,043 - httpcore.http11 - DEBUG - response_closed.started
2025-06-02 16:13:04,044 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-02 16:13:04,044 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-02 16:13:04,045 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-02 16:13:04,045 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-02 16:13:04,045 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
**Snake Game Development**
<<<
2025-06-02 16:13:04,045 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 26):
>>>
**Snake Game Development**
<<<
2025-06-02 16:13:04,045 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-02 16:13:04,045 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-02 16:13:04,045 - src.agents.cycle_handler - INFO - Requesting CG verdict via stream_completion for text: '**Snake Game Development**...'
2025-06-02 16:13:04,045 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 2.
2025-06-02 16:13:04,045 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.1, 'stream': True, 'max_tokens': 250}
2025-06-02 16:13:04,046 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n--- Constitutional Guardian Agent ---\n\n[YOUR GOAL]\nYour SOLE PURPOSE is to review the agent output against the stipulated Governance Principles.\n\n[GOVERNANCE PRINCIPLES]\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n[WORKFLOW]\n1.  Compare the agent output against each of the Governance Principles.\n2.  If the output fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the output potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n[CRITICAL RULES]\n- You **MUST NOT** engage in any conversation.\n- You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n- Do not use pleasantries or any other text outside these tags.\n- If in doubt, err on the side of caution and raise a CONCERN.\n\n[EXAMPLE CONCERN OUTPUT]\n`<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n\n[EXAMPLE COMPLIANT OUTPUT]\n`<OK/>`\n"
    },
    {
      "role": "system",
      "content": "---\nText for Constitutional Review:\n---\n**Snake Game Development**"
    }
  ],
  "temperature": 0.1,
  "stream": true,
  "max_tokens": 250
}
2025-06-02 16:13:04,047 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-1063f9c0-da27-4397-80af-5c79c48f7729', 'json_data': {'messages': [{'role': 'system', 'content': '\n--- Constitutional Guardian Agent ---\n\n[YOUR GOAL]\nYour SOLE PURPOSE is to review the agent output against the stipulated Governance Principles.\n\n[GOVERNANCE PRINCIPLES]\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n[WORKFLOW]\n1.  Compare the agent output against each of the Governance Principles.\n2.  If the output fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the output potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n[CRITICAL RULES]\n- You **MUST NOT** engage in any conversation.\n- You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n- Do not use pleasantries or any other text outside these tags.\n- If in doubt, err on the side of caution and raise a CONCERN.\n\n[EXAMPLE CONCERN OUTPUT]\n`<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n\n[EXAMPLE COMPLIANT OUTPUT]\n`<OK/>`\n'}, {'role': 'system', 'content': '---\nText for Constitutional Review:\n---\n**Snake Game Development**'}], 'model': 'meta-llama/llama-4-maverick:free', 'max_tokens': 250, 'stream': True, 'temperature': 0.1}}
2025-06-02 16:13:04,048 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-02 16:13:04,049 - httpcore.connection - DEBUG - close.started
2025-06-02 16:13:04,050 - httpcore.connection - DEBUG - close.complete
2025-06-02 16:13:04,051 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-02 16:13:04,069 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407df3cb0>
2025-06-02 16:13:04,069 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x7fd41d0b7c50> server_hostname='openrouter.ai' timeout=5.0
2025-06-02 16:13:04,098 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x7fd407df3c20>
2025-06-02 16:13:04,099 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-02 16:13:04,100 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-02 16:13:04,100 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-02 16:13:04,100 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-02 16:13:04,101 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-02 16:13:06,893 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Mon, 02 Jun 2025 08:13:06 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'94957d44f974afce-PER')])
2025-06-02 16:13:06,894 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-02 16:13:06,894 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Mon, 02 Jun 2025 08:13:06 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '94957d44f974afce-PER'})
2025-06-02 16:13:06,895 - openai._base_client - DEBUG - request_id: None
2025-06-02 16:13:06,896 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-02 16:13:06,896 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-02 16:13:06,901 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-02 16:13:06,901 - httpcore.http11 - DEBUG - response_closed.started
2025-06-02 16:13:06,902 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-02 16:13:06,902 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-02 16:13:06,902 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-02 16:13:06,902 - src.agents.cycle_handler - INFO - CG Verdict received (raw full text from stream): '<OK/>'
2025-06-02 16:13:06,902 - src.agents.cycle_handler - INFO - CG verdict contains '<OK/>'. Parsing as OK.
2025-06-02 16:13:06,902 - src.agents.cycle_handler - INFO - CG Verdict OK for agent 'admin_ai'. Proceeding normally.
2025-06-02 16:13:06,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:06,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:06,904 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4240>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game Development**', 'null', 'null'))
2025-06-02 16:13:06,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4240>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game Development**', 'null', 'null')) completed
2025-06-02 16:13:06,904 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4240>)
2025-06-02 16:13:06,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4240>) completed
2025-06-02 16:13:06,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4240>)
2025-06-02 16:13:06,905 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4240>) completed
2025-06-02 16:13:06,906 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:06,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:06,906 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4240>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (4,))
2025-06-02 16:13:06,907 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd407df4240>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (4,)) completed
2025-06-02 16:13:06,907 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4240>)
2025-06-02 16:13:06,907 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd407df4240>) completed
2025-06-02 16:13:06,907 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4240>)
2025-06-02 16:13:06,907 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd407df4240>) completed
2025-06-02 16:13:06,907 - src.core.database_manager - DEBUG - Logged interaction ID 4 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-02 16:13:06,908 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:06,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:06,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:06,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:06,925 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:13:06,925 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:13:06,925 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: processing
2025-06-02 16:13:06,925 - src.agents.cycle_handler - INFO - Agent 'admin_ai' cycle resulted in no errors, no actions, and no text_buffer content.
2025-06-02 16:13:06,925 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=5618.66ms
2025-06-02 16:13:06,925 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 2, 'failure_count': 0, 'total_duration_ms': 13814.873377999902, 'call_count': 2}
2025-06-02 16:13:06,926 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 140549016817872, History ID: 140548997227584, History Len: 3, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "assistant", "content": "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?"}, {"role": "user", "content": "Please develop a cool browser based snake game. ...
2025-06-02 16:13:06,926 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-02 16:13:06,926 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'idle'
2025-06-02 16:13:06,926 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 140549016817872, History ID: 140548997227584, History Len: 3, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "assistant", "content": "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?"}, {"role": "user", "content": "Please develop a cool browser based snake game. ...
2025-06-02 16:13:06,926 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: idle. State: startup
2025-06-02 16:13:24,396 - src.api.websocket_manager - INFO - WebSocket connection closed cleanly by 127.0.0.1.
2025-06-02 16:13:24,396 - src.api.websocket_manager - INFO - WebSocket connection for 127.0.0.1 removed. Total clients: 0
2025-06-02 16:13:24,497 - src.main - INFO - Application shutdown sequence initiated...
2025-06-02 16:13:24,497 - src.agents.manager - INFO - Manager: Cleaning up LLM providers, saving metrics, quarantine, stopping timers, closing DB...
2025-06-02 16:13:24,499 - src.agents.manager - INFO - PM manage timer task cancelled.
2025-06-02 16:13:24,504 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:24,504 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:24,505 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d75c0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,))
2025-06-02 16:13:24,506 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d75c0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,)) completed
2025-06-02 16:13:24,507 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d75c0>)
2025-06-02 16:13:24,507 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x7fd41e7d75c0>) completed
2025-06-02 16:13:24,508 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d75c0>)
2025-06-02 16:13:24,509 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d75c0>) completed
2025-06-02 16:13:24,519 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:24,519 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:24,520 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d75c0>, 'UPDATE sessions SET end_time=CURRENT_TIMESTAMP WHERE sessions.id = ?', (1,))
2025-06-02 16:13:24,521 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x7fd41e7d75c0>, 'UPDATE sessions SET end_time=CURRENT_TIMESTAMP WHERE sessions.id = ?', (1,)) completed
2025-06-02 16:13:24,522 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d75c0>)
2025-06-02 16:13:24,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x7fd41e7d75c0>) completed
2025-06-02 16:13:24,522 - src.core.database_manager - INFO - Marked session ID 1 as ended.
2025-06-02 16:13:24,523 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:24,540 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:24,540 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:24,541 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:24,541 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-02 16:13:24,542 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-02 16:13:24,542 - src.agents.performance_tracker - INFO - Saving performance metrics to: /home/tomanderson/TrippleEffect/data/model_performance_metrics.json
2025-06-02 16:13:24,543 - src.agents.provider_key_manager - INFO - Saving quarantine state (0 entries) to: /home/tomanderson/TrippleEffect/data/quarantine_state.json
2025-06-02 16:13:24,543 - src.agents.performance_tracker - DEBUG - Ensured data directory exists: /home/tomanderson/TrippleEffect/data
2025-06-02 16:13:24,546 - src.agents.performance_tracker - DEBUG - Successfully wrote metrics to temporary file: /home/tomanderson/TrippleEffect/data/model_performance_metrics.json_c28fxrpb.tmp
2025-06-02 16:13:24,547 - src.agents.performance_tracker - INFO - Successfully saved metrics to /home/tomanderson/TrippleEffect/data/model_performance_metrics.json
2025-06-02 16:13:24,547 - src.agents.provider_key_manager - INFO - Successfully saved quarantine state to /home/tomanderson/TrippleEffect/data/quarantine_state.json
2025-06-02 16:13:24,547 - src.core.database_manager - INFO - Closing database engine.
2025-06-02 16:13:24,548 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd41feab6a0>)
2025-06-02 16:13:24,549 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x7fd41feab6a0>) completed
2025-06-02 16:13:24,549 - src.agents.manager - INFO - Manager: Database connection closed.
2025-06-02 16:13:24,550 - src.main - INFO - Lifespan: Agent Manager cleanup finished (providers, metrics, quarantine, DB session ended).
2025-06-02 16:13:24,550 - src.main - INFO - Lifespan: Closing database connection pool...
2025-06-02 16:13:24,550 - src.main - INFO - Lifespan: Database connection pool closed.
2025-06-02 16:13:24,550 - src.main - INFO - --- Application Shutdown Complete ---
