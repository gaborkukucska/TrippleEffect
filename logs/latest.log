2025-06-01 09:24:40,284 - src.main - INFO - --- Application Logging Initialized (Level: DEBUG, Console & File: app_20250601_092440.log) ---
2025-06-01 09:24:40,284 - src.main - INFO - Creating FastAPI app instance...
2025-06-01 09:24:40,284 - src.main - INFO - FastAPI app instance created with lifespan handler.
2025-06-01 09:24:40,284 - src.main - INFO - Looking for static files directory at: /home/tomanderson/TrippleEffect/static
2025-06-01 09:24:40,285 - src.main - INFO - Mounted static files directory: /home/tomanderson/TrippleEffect/static
2025-06-01 09:24:40,285 - src.main - INFO - Including API routers...
2025-06-01 09:24:40,291 - src.main - INFO - API routers included.
2025-06-01 09:24:40,292 - src.main - INFO - Application startup sequence initiated...
2025-06-01 09:24:40,292 - src.main - INFO - Lifespan: Initializing DatabaseManager...
2025-06-01 09:24:40,292 - src.core.database_manager - INFO - Initializing asynchronous database connection to: sqlite+aiosqlite:////home/tomanderson/TrippleEffect/data/trippleeffect_memory.db
2025-06-01 09:24:40,292 - src.core.database_manager - INFO - Ensured database directory exists: /home/tomanderson/TrippleEffect/data
2025-06-01 09:24:40,312 - aiosqlite - DEBUG - executing <function connect.<locals>.connector at 0x78c38e71b7e0>
2025-06-01 09:24:40,312 - aiosqlite - DEBUG - operation <function connect.<locals>.connector at 0x78c38e71b7e0> completed
2025-06-01 09:24:40,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x78c38ea836a0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x78c38e71aa20>, deterministic=True)
2025-06-01 09:24:40,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x78c38ea836a0>, 'regexp', 2, <function SQLiteDialect_pysqlite.on_connect.<locals>.regexp at 0x78c38e71aa20>, deterministic=True) completed
2025-06-01 09:24:40,313 - aiosqlite - DEBUG - executing functools.partial(<built-in method create_function of sqlite3.Connection object at 0x78c38ea836a0>, 'floor', 1, <built-in function floor>, deterministic=True)
2025-06-01 09:24:40,313 - aiosqlite - DEBUG - operation functools.partial(<built-in method create_function of sqlite3.Connection object at 0x78c38ea836a0>, 'floor', 1, <built-in function floor>, deterministic=True) completed
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38e7241c0>, 'PRAGMA read_uncommitted', [])
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38e7241c0>, 'PRAGMA read_uncommitted', []) completed
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38e7241c0>)
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38e7241c0>) completed
2025-06-01 09:24:40,314 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38e7241c0>)
2025-06-01 09:24:40,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38e7241c0>) completed
2025-06-01 09:24:40,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,315 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,315 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38e724240>, 'PRAGMA main.table_info("projects")', ())
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38e724240>, 'PRAGMA main.table_info("projects")', ()) completed
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38e724240>)
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38e724240>) completed
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38e724240>)
2025-06-01 09:24:40,316 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38e724240>) completed
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("projects")', ())
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("projects")', ()) completed
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("sessions")', ())
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("sessions")', ()) completed
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,318 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("sessions")', ())
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("sessions")', ()) completed
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,319 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("agent_records")', ())
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("agent_records")', ()) completed
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,320 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("agent_records")', ())
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("agent_records")', ()) completed
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("interactions")', ())
2025-06-01 09:24:40,321 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("interactions")', ()) completed
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("interactions")', ())
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("interactions")', ()) completed
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,323 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,323 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,323 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,323 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,323 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("long_term_knowledge")', ())
2025-06-01 09:24:40,324 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA main.table_info("long_term_knowledge")', ()) completed
2025-06-01 09:24:40,325 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,325 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,325 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,325 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,326 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("long_term_knowledge")', ())
2025-06-01 09:24:40,326 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'PRAGMA temp.table_info("long_term_knowledge")', ()) completed
2025-06-01 09:24:40,326 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,327 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,327 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,327 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,329 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,329 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,329 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE projects (\n\tid INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tdescription TEXT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tUNIQUE (name)\n)\n\n', ())
2025-06-01 09:24:40,350 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE projects (\n\tid INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tdescription TEXT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tUNIQUE (name)\n)\n\n', ()) completed
2025-06-01 09:24:40,350 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,350 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,351 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,351 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_project_name ON projects (name)', ())
2025-06-01 09:24:40,372 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_project_name ON projects (name)', ()) completed
2025-06-01 09:24:40,372 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,372 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,373 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,373 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE sessions (\n\tid INTEGER NOT NULL, \n\tproject_id INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tstart_time DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tend_time DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(project_id) REFERENCES projects (id)\n)\n\n', ())
2025-06-01 09:24:40,395 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE sessions (\n\tid INTEGER NOT NULL, \n\tproject_id INTEGER NOT NULL, \n\tname VARCHAR NOT NULL, \n\tstart_time DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tend_time DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(project_id) REFERENCES projects (id)\n)\n\n', ()) completed
2025-06-01 09:24:40,395 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,395 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,396 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,396 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_session_project_id ON sessions (project_id)', ())
2025-06-01 09:24:40,418 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_session_project_id ON sessions (project_id)', ()) completed
2025-06-01 09:24:40,418 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,419 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,419 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,420 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_session_name_project ON sessions (project_id, name)', ())
2025-06-01 09:24:40,442 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_session_name_project ON sessions (project_id, name)', ()) completed
2025-06-01 09:24:40,443 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,443 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,445 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,445 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,446 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE agent_records (\n\tid INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tpersona VARCHAR NOT NULL, \n\tmodel_config_json JSON, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ())
2025-06-01 09:24:40,465 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE agent_records (\n\tid INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tpersona VARCHAR NOT NULL, \n\tmodel_config_json JSON, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ()) completed
2025-06-01 09:24:40,466 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,466 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,466 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,466 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,467 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE UNIQUE INDEX ix_agentrecord_session_agent ON agent_records (session_id, agent_id)', ())
2025-06-01 09:24:40,487 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE UNIQUE INDEX ix_agentrecord_session_agent ON agent_records (session_id, agent_id)', ()) completed
2025-06-01 09:24:40,488 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,489 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,491 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,491 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,492 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE interactions (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\trole VARCHAR NOT NULL, \n\tcontent TEXT, \n\ttool_calls_json JSON, \n\ttool_results_json JSON, \n\ttimestamp DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ())
2025-06-01 09:24:40,515 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE interactions (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER NOT NULL, \n\tagent_id VARCHAR NOT NULL, \n\trole VARCHAR NOT NULL, \n\tcontent TEXT, \n\ttool_calls_json JSON, \n\ttool_results_json JSON, \n\ttimestamp DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id)\n)\n\n', ()) completed
2025-06-01 09:24:40,517 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,517 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,518 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,518 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,518 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_timestamp ON interactions (timestamp)', ())
2025-06-01 09:24:40,540 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_timestamp ON interactions (timestamp)', ()) completed
2025-06-01 09:24:40,542 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,542 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,543 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,543 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_agent_id ON interactions (agent_id)', ())
2025-06-01 09:24:40,561 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_agent_id ON interactions (agent_id)', ()) completed
2025-06-01 09:24:40,562 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,563 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,563 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,564 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,564 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_session_id ON interactions (session_id)', ())
2025-06-01 09:24:40,589 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_interaction_session_id ON interactions (session_id)', ()) completed
2025-06-01 09:24:40,590 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,590 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,592 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,592 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,593 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE long_term_knowledge (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER, \n\tkeywords VARCHAR NOT NULL, \n\tsummary TEXT NOT NULL, \n\tsource_interaction_id INTEGER, \n\timportance_score FLOAT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_accessed DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id), \n\tFOREIGN KEY(source_interaction_id) REFERENCES interactions (id)\n)\n\n', ())
2025-06-01 09:24:40,617 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, '\nCREATE TABLE long_term_knowledge (\n\tid INTEGER NOT NULL, \n\tsession_id INTEGER, \n\tkeywords VARCHAR NOT NULL, \n\tsummary TEXT NOT NULL, \n\tsource_interaction_id INTEGER, \n\timportance_score FLOAT, \n\tcreated_at DATETIME DEFAULT CURRENT_TIMESTAMP, \n\tlast_accessed DATETIME, \n\tPRIMARY KEY (id), \n\tFOREIGN KEY(session_id) REFERENCES sessions (id), \n\tFOREIGN KEY(source_interaction_id) REFERENCES interactions (id)\n)\n\n', ()) completed
2025-06-01 09:24:40,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,618 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,618 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,619 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_knowledge_importance ON long_term_knowledge (importance_score)', ())
2025-06-01 09:24:40,640 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_knowledge_importance ON long_term_knowledge (importance_score)', ()) completed
2025-06-01 09:24:40,640 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,640 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,642 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,642 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,642 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_knowledge_keywords ON long_term_knowledge (keywords)', ())
2025-06-01 09:24:40,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38ea776c0>, 'CREATE INDEX ix_knowledge_keywords ON long_term_knowledge (keywords)', ()) completed
2025-06-01 09:24:40,668 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>)
2025-06-01 09:24:40,668 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38ea776c0>) completed
2025-06-01 09:24:40,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,669 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,669 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,669 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,670 - src.core.database_manager - INFO - Database tables created/verified successfully.
2025-06-01 09:24:40,670 - src.main - INFO - Lifespan: DatabaseManager initialized successfully.
2025-06-01 09:24:40,670 - src.main - INFO - Instantiating AgentManager...
2025-06-01 09:24:40,670 - src.agents.manager - INFO - AgentManager __init__: Instantiating ProviderKeyManager...
2025-06-01 09:24:40,670 - src.agents.provider_key_manager - INFO - Quarantine state file not found. Initializing empty state.
2025-06-01 09:24:40,671 - src.agents.manager - INFO - AgentManager __init__: Instantiating ToolExecutor...
2025-06-01 09:24:40,671 - src.tools.executor - INFO - Dynamically discovering and registering tools...
2025-06-01 09:24:40,671 - src.tools.executor - DEBUG - Attempting to import module: src.tools.executor
2025-06-01 09:24:40,672 - src.tools.executor - DEBUG - Skipping module: __init__
2025-06-01 09:24:40,672 - src.tools.executor - DEBUG - Attempting to import module: src.tools.knowledge_base
2025-06-01 09:24:40,672 - src.tools.executor - DEBUG -   Found potential tool class: KnowledgeBaseTool in src.tools.knowledge_base
2025-06-01 09:24:40,672 - src.tools.executor - INFO -   Registered tool: 'knowledge_base' (from knowledge_base.py)
2025-06-01 09:24:40,672 - src.tools.executor - DEBUG - Attempting to import module: src.tools.tool_information
2025-06-01 09:24:40,673 - src.tools.executor - DEBUG -   Found potential tool class: ToolInformationTool in src.tools.tool_information
2025-06-01 09:24:40,673 - src.tools.executor - INFO -   Registered tool: 'tool_information' (from tool_information.py)
2025-06-01 09:24:40,673 - src.tools.executor - DEBUG - Skipping module: base
2025-06-01 09:24:40,673 - src.tools.executor - DEBUG - Attempting to import module: src.tools.system_help
2025-06-01 09:24:40,674 - src.tools.executor - DEBUG -   Found potential tool class: SystemHelpTool in src.tools.system_help
2025-06-01 09:24:40,675 - src.tools.executor - INFO -   Registered tool: 'system_help' (from system_help.py)
2025-06-01 09:24:40,675 - src.tools.executor - DEBUG - Attempting to import module: src.tools.web_search
2025-06-01 09:24:40,874 - src.tools.executor - DEBUG -   Found potential tool class: WebSearchTool in src.tools.web_search
2025-06-01 09:24:40,874 - src.tools.executor - INFO -   Registered tool: 'web_search' (from web_search.py)
2025-06-01 09:24:40,874 - src.tools.executor - DEBUG - Attempting to import module: src.tools.file_system
2025-06-01 09:24:40,875 - src.tools.executor - DEBUG -   Found potential tool class: FileSystemTool in src.tools.file_system
2025-06-01 09:24:40,875 - src.tools.executor - INFO -   Registered tool: 'file_system' (from file_system.py)
2025-06-01 09:24:40,876 - src.tools.executor - DEBUG - Attempting to import module: src.tools.github_tool
2025-06-01 09:24:40,877 - src.tools.executor - DEBUG -   Found potential tool class: GitHubTool in src.tools.github_tool
2025-06-01 09:24:40,877 - src.tools.github_tool - INFO - GitHubTool initialized with access token.
2025-06-01 09:24:40,877 - src.tools.executor - INFO -   Registered tool: 'github_tool' (from github_tool.py)
2025-06-01 09:24:40,878 - src.tools.executor - DEBUG - Attempting to import module: src.tools.send_message
2025-06-01 09:24:40,878 - src.tools.executor - DEBUG -   Found potential tool class: SendMessageTool in src.tools.send_message
2025-06-01 09:24:40,878 - src.tools.executor - INFO -   Registered tool: 'send_message' (from send_message.py)
2025-06-01 09:24:40,878 - src.tools.executor - DEBUG - Attempting to import module: src.tools.manage_team
2025-06-01 09:24:40,878 - src.tools.executor - DEBUG -   Found potential tool class: ManageTeamTool in src.tools.manage_team
2025-06-01 09:24:40,878 - src.tools.executor - INFO -   Registered tool: 'manage_team' (from manage_team.py)
2025-06-01 09:24:40,878 - src.tools.executor - DEBUG - Skipping module: tool_parser
2025-06-01 09:24:40,879 - src.tools.executor - DEBUG - Attempting to import module: src.tools.project_management
2025-06-01 09:24:40,879 - src.tools.executor - DEBUG -   Found potential tool class: ProjectManagementTool in src.tools.project_management
2025-06-01 09:24:40,879 - src.tools.executor - INFO -   Registered tool: 'project_management' (from project_management.py)
2025-06-01 09:24:40,879 - src.tools.executor - INFO - ToolExecutor initialized with dynamically discovered tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:40,879 - src.agents.manager - INFO - AgentManager __init__: ToolExecutor instantiated with tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:40,879 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentStateManager...
2025-06-01 09:24:40,879 - src.agents.state_manager - INFO - AgentStateManager initialized.
2025-06-01 09:24:40,879 - src.agents.manager - INFO - AgentManager __init__: Instantiating SessionManager...
2025-06-01 09:24:40,879 - src.agents.session_manager - INFO - SessionManager initialized.
2025-06-01 09:24:40,879 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentWorkflowManager...
2025-06-01 09:24:40,880 - src.agents.workflow_manager - INFO - AgentWorkflowManager: Discovering and registering workflows...
2025-06-01 09:24:40,880 - src.agents.workflow_manager - DEBUG - Skipping workflow module: __init__
2025-06-01 09:24:40,880 - src.agents.workflow_manager - DEBUG - Skipping workflow module: base
2025-06-01 09:24:40,880 - src.agents.workflow_manager - DEBUG - Attempting to import workflow module: src.workflows.pm_kickoff_workflow
2025-06-01 09:24:40,880 - src.agents.workflow_manager - DEBUG -   Found potential workflow class: PMKickoffWorkflow in src.workflows.pm_kickoff_workflow
2025-06-01 09:24:40,880 - src.agents.workflow_manager - INFO -   Registered workflow: 'pm_project_kickoff' (Trigger: task_list for pm in state pm_startup)
2025-06-01 09:24:40,880 - src.agents.workflow_manager - DEBUG - Attempting to import workflow module: src.workflows.project_creation_workflow
2025-06-01 09:24:40,881 - src.agents.workflow_manager - DEBUG -   Found potential workflow class: ProjectCreationWorkflow in src.workflows.project_creation_workflow
2025-06-01 09:24:40,881 - src.agents.workflow_manager - INFO -   Registered workflow: 'project_creation' (Trigger: plan for admin in state planning)
2025-06-01 09:24:40,881 - src.agents.workflow_manager - INFO - AgentWorkflowManager: Workflow discovery complete. 2 workflows loaded. 2 triggers registered.
2025-06-01 09:24:40,881 - src.agents.workflow_manager - INFO - AgentWorkflowManager initialized.
2025-06-01 09:24:40,881 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentInteractionHandler...
2025-06-01 09:24:40,881 - src.agents.interaction_handler - INFO - AgentInteractionHandler initialized.
2025-06-01 09:24:40,881 - src.agents.manager - INFO - AgentManager __init__: Instantiating AgentCycleHandler...
2025-06-01 09:24:40,881 - src.agents.cycle_handler - INFO - AgentCycleHandler initialized.
2025-06-01 09:24:40,881 - src.agents.manager - INFO - AgentManager __init__: Instantiating ModelPerformanceTracker...
2025-06-01 09:24:40,881 - src.agents.performance_tracker - DEBUG - Ensured data directory exists: /home/tomanderson/TrippleEffect/data
2025-06-01 09:24:40,882 - src.agents.performance_tracker - INFO - Metrics file not found at /home/tomanderson/TrippleEffect/data/model_performance_metrics.json. Initializing empty metrics.
2025-06-01 09:24:40,882 - src.agents.manager - INFO - AgentManager __init__: Initialized synchronously.
2025-06-01 09:24:40,882 - src.main - INFO - AgentManager instantiated.
2025-06-01 09:24:40,882 - src.main - INFO - AgentManager instance stored in app.state.
2025-06-01 09:24:40,882 - src.api.websocket_manager - INFO - WebSocketManager: AgentManager instance set.
2025-06-01 09:24:40,882 - src.main - INFO - AgentManager instance injected into WebSocketManager.
2025-06-01 09:24:40,882 - src.main - INFO - Lifespan: Discovering reachable providers and available models...
2025-06-01 09:24:40,882 - src.config.model_registry - INFO - Model Registry: Starting discovery. Effective MODEL_TIER = FREE
2025-06-01 09:24:40,882 - src.config.model_registry - INFO - MODEL_TIER is FREE, enabling remote provider discovery.
2025-06-01 09:24:40,882 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:40,882 - src.config.model_registry - DEBUG - Adding OpenRouter for discovery. Base: https://openrouter.ai/api/v1
2025-06-01 09:24:40,882 - src.config.settings - DEBUG - is_provider_configured check for remote 'openai': Keys found = False
2025-06-01 09:24:40,882 - src.config.model_registry - DEBUG - Skipping OpenAI discovery: Provider not configured in settings.
2025-06-01 09:24:40,883 - src.config.model_registry - INFO - Adding default localhost endpoints for verification...
2025-06-01 09:24:40,883 - src.config.model_registry - INFO - Local network scan is disabled in settings.
2025-06-01 09:24:40,883 - src.config.model_registry - INFO - Verifying 4 potential local endpoints...
2025-06-01 09:24:40,883 - src.agents.manager - INFO - Setting context. Project: DefaultProject, Session: startup_1748741080, Loading: False
2025-06-01 09:24:40,905 - src.config.model_registry - DEBUG - Verifying potential local API at http://localhost:4000...
2025-06-01 09:24:40,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,906 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,906 - src.config.model_registry - DEBUG - Verifying potential local API at http://127.0.0.1:4000...
2025-06-01 09:24:40,907 - src.config.model_registry - DEBUG - Verifying potential local API at http://localhost:11434...
2025-06-01 09:24:40,908 - src.config.model_registry - DEBUG - Verifying potential local API at http://127.0.0.1:11434...
2025-06-01 09:24:40,908 - src.agents.manager - INFO - Starting periodic PM manage check loop (Interval: 60.0s)...
2025-06-01 09:24:40,909 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3ef540>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',))
2025-06-01 09:24:40,909 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://127.0.0.1:4000.
2025-06-01 09:24:40,910 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:4000/v1/models
2025-06-01 09:24:40,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3ef540>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',)) completed
2025-06-01 09:24:40,911 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3ef540>)
2025-06-01 09:24:40,911 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3ef540>) completed
2025-06-01 09:24:40,911 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:4000/v1/models.
2025-06-01 09:24:40,912 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://127.0.0.1:4000/models
2025-06-01 09:24:40,913 - src.config.model_registry - DEBUG - Ollama check: Connection failed or timed out for http://localhost:4000.
2025-06-01 09:24:40,913 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:4000/v1/models
2025-06-01 09:24:40,914 - src.config.model_registry - INFO - Verified Ollama endpoint at http://127.0.0.1:11434 (ollama-local-127-0-0-1). Found 3 models from /api/tags.
2025-06-01 09:24:40,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3ef540>)
2025-06-01 09:24:40,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3ef540>) completed
2025-06-01 09:24:40,915 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://127.0.0.1:4000/models.
2025-06-01 09:24:40,915 - src.config.model_registry - DEBUG - Could not verify http://127.0.0.1:4000 as either Ollama or OpenAI compatible.
2025-06-01 09:24:40,916 - src.config.model_registry - INFO - Verified Ollama endpoint at http://localhost:11434 (ollama-local-127-0-0-1). Found 3 models from /api/tags.
2025-06-01 09:24:40,917 - src.core.database_manager - DEBUG - Project 'DefaultProject' not found.
2025-06-01 09:24:40,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,918 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,918 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:4000/v1/models.
2025-06-01 09:24:40,918 - src.config.model_registry - DEBUG - Trying OpenAI compatible check: http://localhost:4000/models
2025-06-01 09:24:40,919 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,920 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,921 - src.config.model_registry - DEBUG - OpenAI compatible check: Connection failed or timed out for http://localhost:4000/models.
2025-06-01 09:24:40,921 - src.config.model_registry - DEBUG - Could not verify http://localhost:4000 as either Ollama or OpenAI compatible.
2025-06-01 09:24:40,922 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:40,922 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:40,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf8c8c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',))
2025-06-01 09:24:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf8c8c0>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.name = ?', ('DefaultProject',)) completed
2025-06-01 09:24:40,924 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf8c8c0>)
2025-06-01 09:24:40,924 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf8c8c0>) completed
2025-06-01 09:24:40,925 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf8c8c0>)
2025-06-01 09:24:40,925 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf8c8c0>) completed
2025-06-01 09:24:40,929 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,929 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,930 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a6040>, 'INSERT INTO projects (name, description) VALUES (?, ?) RETURNING id, created_at', ('DefaultProject', None))
2025-06-01 09:24:40,931 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a6040>, 'INSERT INTO projects (name, description) VALUES (?, ?) RETURNING id, created_at', ('DefaultProject', None)) completed
2025-06-01 09:24:40,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a6040>)
2025-06-01 09:24:40,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a6040>) completed
2025-06-01 09:24:40,932 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a6040>)
2025-06-01 09:24:40,932 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a6040>) completed
2025-06-01 09:24:40,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a6040>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.id = ?', (1,))
2025-06-01 09:24:40,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a6040>, 'SELECT projects.id, projects.name, projects.description, projects.created_at \nFROM projects \nWHERE projects.id = ?', (1,)) completed
2025-06-01 09:24:40,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a6040>)
2025-06-01 09:24:40,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a6040>) completed
2025-06-01 09:24:40,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a6040>)
2025-06-01 09:24:40,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a6040>) completed
2025-06-01 09:24:40,940 - src.core.database_manager - INFO - Added new project 'DefaultProject' with ID 1.
2025-06-01 09:24:40,942 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,952 - src.config.model_registry - DEBUG - Ollama model 'granite3.3:2b': parameters '2.5B' -> 2500000000
2025-06-01 09:24:40,957 - src.config.model_registry - DEBUG - Ollama model 'granite3.3:2b': parameters '2.5B' -> 2500000000
2025-06-01 09:24:40,969 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,969 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,970 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,970 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:40,971 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:40,973 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,973 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfeeac0>, 'INSERT INTO sessions (project_id, name, end_time) VALUES (?, ?, ?) RETURNING id, start_time', (1, 'startup_1748741080', None))
2025-06-01 09:24:40,974 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfeeac0>, 'INSERT INTO sessions (project_id, name, end_time) VALUES (?, ?, ?) RETURNING id, start_time', (1, 'startup_1748741080', None)) completed
2025-06-01 09:24:40,974 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfeeac0>)
2025-06-01 09:24:40,975 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfeeac0>) completed
2025-06-01 09:24:40,976 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfeeac0>)
2025-06-01 09:24:40,976 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfeeac0>) completed
2025-06-01 09:24:40,980 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,980 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,981 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfeeac0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,))
2025-06-01 09:24:40,981 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfeeac0>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,)) completed
2025-06-01 09:24:40,981 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfeeac0>)
2025-06-01 09:24:40,981 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfeeac0>) completed
2025-06-01 09:24:40,982 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfeeac0>)
2025-06-01 09:24:40,982 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfeeac0>) completed
2025-06-01 09:24:40,982 - src.core.database_manager - INFO - Started new session 'startup_1748741080' (ID: 1) for Project ID 1.
2025-06-01 09:24:40,983 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,997 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,998 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:40,998 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:40,998 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:40,999 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:40,999 - src.agents.manager - INFO - DB Context: ProjectID=1, SessionID=1
2025-06-01 09:24:41,031 - src.config.model_registry - DEBUG - Ollama model 'llama3.2:3b-instruct-q4_K_M': parameters '3.2B' -> 3200000000
2025-06-01 09:24:41,038 - src.config.model_registry - DEBUG - Ollama model 'llama3.2:3b-instruct-q4_K_M': parameters '3.2B' -> 3200000000
2025-06-01 09:24:41,215 - src.config.model_registry - DEBUG - Ollama model 'gemma3:1b': parameters '999.89M' -> 999890000
2025-06-01 09:24:41,227 - src.config.model_registry - DEBUG - Ollama model 'gemma3:1b': parameters '999.89M' -> 999890000
2025-06-01 09:24:41,228 - src.config.model_registry - INFO - Assigning canonical name 'ollama-local' to verified localhost Ollama at http://localhost:11434
2025-06-01 09:24:41,228 - src.config.model_registry - INFO - Successfully registered discovered provider 'ollama-local' at http://localhost:11434 with 3 models.
2025-06-01 09:24:41,228 - src.config.model_registry - DEBUG - Skipping registration for http://127.0.0.1:11434: Canonical service ('ollama', 11434) already registered.
2025-06-01 09:24:41,228 - src.config.model_registry - INFO - Running 1 remote discovery tasks concurrently...
2025-06-01 09:24:41,228 - src.config.model_registry - DEBUG - Discovering OpenRouter models...
2025-06-01 09:24:41,228 - src.config.model_registry - DEBUG - Requesting OpenRouter models from https://openrouter.ai/api/v1/models using key ending '...873d'
2025-06-01 09:24:41,549 - src.config.model_registry - INFO - Discovered 323 models from OpenRouter.
2025-06-01 09:24:41,597 - src.config.model_registry - INFO - Model Registry: Applying filters. Tier='FREE'. Reachable providers: ['openrouter', 'ollama-local']
2025-06-01 09:24:41,597 - src.config.model_registry - DEBUG - Filtering provider 'ollama-local'. Identified as Local: True
2025-06-01 09:24:41,598 - src.config.model_registry - INFO - Tier Filter (FREE): Included all 3 discovered models for reachable local provider 'ollama-local'.
2025-06-01 09:24:41,598 - src.config.model_registry - DEBUG - Filtering provider 'openrouter'. Identified as Local: False
2025-06-01 09:24:41,598 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-7b' (not marked as free).
2025-06-01 09:24:41,598 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-0528-qwen3-8b' (not marked as free).
2025-06-01 09:24:41,599 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2b-it' (not marked as free).
2025-06-01 09:24:41,599 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-0528' (not marked as free).
2025-06-01 09:24:41,599 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sarvamai/sarvam-m' (not marked as free).
2025-06-01 09:24:41,599 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/valkyrie-49b-v1' (not marked as free).
2025-06-01 09:24:41,599 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-opus-4' (not marked as free).
2025-06-01 09:24:41,600 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-sonnet-4' (not marked as free).
2025-06-01 09:24:41,600 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/devstral-small' (not marked as free).
2025-06-01 09:24:41,600 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview-05-20' (not marked as free).
2025-06-01 09:24:41,600 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview-05-20:thinking' (not marked as free).
2025-06-01 09:24:41,601 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/codex-mini' (not marked as free).
2025-06-01 09:24:41,601 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-medium-3' (not marked as free).
2025-06-01 09:24:41,601 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-pro-preview' (not marked as free).
2025-06-01 09:24:41,601 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/caller-large' (not marked as free).
2025-06-01 09:24:41,602 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/spotlight' (not marked as free).
2025-06-01 09:24:41,602 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/maestro-reasoning' (not marked as free).
2025-06-01 09:24:41,602 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/virtuoso-large' (not marked as free).
2025-06-01 09:24:41,602 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/coder-large' (not marked as free).
2025-06-01 09:24:41,603 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/virtuoso-medium-v2' (not marked as free).
2025-06-01 09:24:41,603 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/arcee-ai/arcee-blitz' (not marked as free).
2025-06-01 09:24:41,603 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4-reasoning-plus' (not marked as free).
2025-06-01 09:24:41,603 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inception/mercury-coder-small-beta' (not marked as free).
2025-06-01 09:24:41,604 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-prover-v2' (not marked as free).
2025-06-01 09:24:41,604 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-4-12b' (not marked as free).
2025-06-01 09:24:41,604 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-30b-a3b' (not marked as free).
2025-06-01 09:24:41,604 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-8b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-14b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-32b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen3-235b-a22b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-z1-rumination-32b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-z1-32b' (not marked as free).
2025-06-01 09:24:41,605 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thudm/glm-4-32b' (not marked as free).
2025-06-01 09:24:41,606 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview' (not marked as free).
2025-06-01 09:24:41,606 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-flash-preview:thinking' (not marked as free).
2025-06-01 09:24:41,606 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o4-mini-high' (not marked as free).
2025-06-01 09:24:41,606 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3' (not marked as free).
2025-06-01 09:24:41,606 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o4-mini' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1-mini' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.1-nano' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eleutherai/llemma_7b' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alfredpros/codellama-7b-instruct-solidity' (not marked as free).
2025-06-01 09:24:41,607 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-3-mini-beta' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-3-beta' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.3-nemotron-super-49b-v1' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.1-nemotron-ultra-253b-v1' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-4-maverick' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-4-scout' (not marked as free).
2025-06-01 09:24:41,608 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/all-hands/openhands-lm-32b-v0.1' (not marked as free).
2025-06-01 09:24:41,609 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/scb10x/llama3.1-typhoon2-8b-instruct' (not marked as free).
2025-06-01 09:24:41,609 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/scb10x/llama3.1-typhoon2-70b-instruct' (not marked as free).
2025-06-01 09:24:41,609 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.5-pro-exp-03-25' (not marked as free).
2025-06-01 09:24:41,609 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen2.5-vl-32b-instruct' (not marked as free).
2025-06-01 09:24:41,609 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-chat-v3-0324' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-pro' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small-3.1-24b-instruct' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-4b-it' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/ai21/jamba-1.6-large' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/ai21/jamba-1.6-mini' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-12b-it' (not marked as free).
2025-06-01 09:24:41,610 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-a' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini-search-preview' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-search-preview' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-3-27b-it' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/anubis-pro-105b-v1' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/skyfall-36b-v2' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4-multimodal-instruct' (not marked as free).
2025-06-01 09:24:41,611 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-reasoning-pro' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-pro' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-deep-research' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwq-32b' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4.5-preview' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.0-flash-lite-001' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet:beta' (not marked as free).
2025-06-01 09:24:41,612 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.7-sonnet:thinking' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/r1-1776' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-saba' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-3-8b' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3-mini-high' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-llama-8b' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-2.0-flash-001' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-vl-plus' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-1.0' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-1.0-mini' (not marked as free).
2025-06-01 09:24:41,613 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aion-labs/aion-rp-llama-3.1-8b' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-vl-max' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-turbo' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen2.5-vl-72b-instruct' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-plus' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-max' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o3-mini' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-1.5b' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small-24b-instruct-2501' (not marked as free).
2025-06-01 09:24:41,614 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-32b' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-qwen-14b' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar-reasoning' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/sonar' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-7b' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-3b' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1-distill-llama-70b' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-r1' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/minimax/minimax-01' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/codestral-2501' (not marked as free).
2025-06-01 09:24:41,615 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-4' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/deepseek/deepseek-chat' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3.3-euryale-70b' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-llama-3.33-70b' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-2-vision-1212' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-2-1212' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r7b-12-2024' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.3-70b-instruct' (not marked as free).
2025-06-01 09:24:41,616 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-lite-v1' (not marked as free).
2025-06-01 09:24:41,617 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-micro-v1' (not marked as free).
2025-06-01 09:24:41,617 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/amazon/nova-pro-v1' (not marked as free).
2025-06-01 09:24:41,617 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwq-32b-preview' (not marked as free).
2025-06-01 09:24:41,617 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-qwen-2.5-72b' (not marked as free).
2025-06-01 09:24:41,620 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-11-20' (not marked as free).
2025-06-01 09:24:41,620 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large-2411' (not marked as free).
2025-06-01 09:24:41,620 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large-2407' (not marked as free).
2025-06-01 09:24:41,620 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/pixtral-large-2411' (not marked as free).
2025-06-01 09:24:41,620 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-vision-beta' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/infermatic/mn-inferor-12b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-coder-32b-instruct' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/raifle/sorcererlm-8x22b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/eva-unit-01/eva-qwen-2.5-32b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/unslopnemo-12b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku:beta' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku-20241022:beta' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-haiku-20241022' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3.1-lumimaid-70b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthracite-org/magnum-v4-72b' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet:beta' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet' (not marked as free).
2025-06-01 09:24:41,621 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/x-ai/grok-beta' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/ministral-8b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/ministral-3b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-7b-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nvidia/llama-3.1-nemotron-70b-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inflection/inflection-3-productivity' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/inflection/inflection-3-pi' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-flash-1.5-8b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/thedrummer/rocinante-12b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthracite-org/magnum-v2-72b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/liquid/lfm-40b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-3b-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-1b-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-90b-vision-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.2-11b-vision-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-72b-instruct' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3.1-lumimaid-8b' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-preview' (not marked as free).
2025-06-01 09:24:41,622 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-preview-2024-09-12' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-mini' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/o1-mini-2024-09-12' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/pixtral-12b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus-08-2024' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-08-2024' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2.5-vl-7b-instruct' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3.1-euryale-70b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3.5-mini-128k-instruct' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-3-llama-3.1-70b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-3-llama-3.1-405b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/chatgpt-4o-latest' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3-lunaris-8b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/aetherwiing/mn-starcannon-12b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-08-06' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-405b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nothingiisreal/mn-celeste-12b' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/llama-3.1-sonar-small-128k-online' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/perplexity/llama-3.1-sonar-large-128k-online' (not marked as free).
2025-06-01 09:24:41,623 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-8b-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-405b-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3.1-70b-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-nemo' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-mini-2024-07-18' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2-27b-it' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alpindale/magnum-72b' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemma-2-9b-it' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/01-ai/yi-large' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet-20240620:beta' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3.5-sonnet-20240620' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/l3-euryale-70b' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cognitivecomputations/dolphin-mixtral-8x22b' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/qwen/qwen-2-72b-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/hermes-2-pro-llama-3-8b' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.3' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3-mini-128k-instruct' (not marked as free).
2025-06-01 09:24:41,624 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/phi-3-medium-128k-instruct' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3-lumimaid-70b' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-flash-1.5' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o:extended' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-guard-2-8b' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4o-2024-05-13' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/llama-3-lumimaid-8b' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sao10k/fimbulvetr-11b-v2' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3-8b-instruct' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-3-70b-instruct' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mixtral-8x22b-instruct' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/microsoft/wizardlm-2-8x22b' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/google/gemini-pro-1.5' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-turbo' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-plus-04-2024' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/sophosympatheia/midnight-rose-70b' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command' (not marked as free).
2025-06-01 09:24:41,625 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-haiku:beta' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-haiku' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-opus:beta' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-opus' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-sonnet:beta' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-3-sonnet' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/cohere/command-r-03-2024' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-large' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-0613' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-turbo-preview' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/nousresearch/nous-hermes-2-mixtral-8x7b-dpo' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-medium' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-small' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-tiny' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.2' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mixtral-8x7b-instruct' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/neversleep/noromaid-20b' (not marked as free).
2025-06-01 09:24:41,626 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.1:beta' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.1' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2:beta' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/undi95/toppy-m-7b' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/alpindale/goliath-120b' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openrouter/auto' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-1106' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-1106-preview' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-instruct' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mistralai/mistral-7b-instruct-v0.1' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/pygmalionai/mythalion-13b' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-16k' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-32k' (not marked as free).
2025-06-01 09:24:41,627 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-32k-0314' (not marked as free).
2025-06-01 09:24:41,628 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/mancer/weaver' (not marked as free).
2025-06-01 09:24:41,628 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.0:beta' (not marked as free).
2025-06-01 09:24:41,628 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/anthropic/claude-2.0' (not marked as free).
2025-06-01 09:24:41,628 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/undi95/remm-slerp-l2-13b' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/gryphe/mythomax-l2-13b' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/meta-llama/llama-2-70b-chat' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-3.5-turbo-0125' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4' (not marked as free).
2025-06-01 09:24:41,629 - src.config.model_registry - DEBUG - Tier Filter (FREE): Skipping remote model 'openrouter/openai/gpt-4-0314' (not marked as free).
2025-06-01 09:24:41,630 - src.config.model_registry - INFO - Tier Filter (FREE): Included 68 models for reachable remote provider 'openrouter'. Skipped: 255.
2025-06-01 09:24:41,630 - src.config.model_registry - INFO - Filtering complete. Final available provider count: 2
2025-06-01 09:24:41,630 - src.config.model_registry - INFO - Provider and model discovery/filtering complete.
2025-06-01 09:24:41,630 - src.config.model_registry - INFO - --- Available Models (Filtered by Reachability & Tier) ---
2025-06-01 09:24:41,630 - src.config.model_registry - INFO -   ollama-local: 3 models -> ['ollama-local/gemma3:1b', 'ollama-local/granite3.3:2b', 'ollama-local/llama3.2:3b-instruct-q4_K_M']
2025-06-01 09:24:41,630 - src.config.model_registry - INFO -   openrouter (Remote): 68 models -> ['agentica-org/deepcoder-14b-preview:free', 'arliai/qwq-32b-arliai-rpr-v1:free', 'cognitivecomputations/dolphin3.0-mistral-24b:free', 'cognitivecomputations/dolphin3.0-r1-mistral-24b:free', 'deepseek/deepseek-chat-v3-0324:free', 'deepseek/deepseek-chat:free', 'deepseek/deepseek-prover-v2:free', 'deepseek/deepseek-r1-0528-qwen3-8b:free', 'deepseek/deepseek-r1-0528:free', 'deepseek/deepseek-r1-distill-llama-70b:free', 'deepseek/deepseek-r1-distill-qwen-14b:free', 'deepseek/deepseek-r1-distill-qwen-32b:free', 'deepseek/deepseek-r1-zero:free', 'deepseek/deepseek-r1:free', 'deepseek/deepseek-v3-base:free', 'featherless/qwerky-72b:free', 'google/gemini-2.0-flash-exp:free', 'google/gemma-2-9b-it:free', 'google/gemma-3-12b-it:free', 'google/gemma-3-1b-it:free', 'google/gemma-3-27b-it:free', 'google/gemma-3-4b-it:free', 'google/gemma-3n-e4b-it:free', 'meta-llama/llama-3.1-405b:free', 'meta-llama/llama-3.1-8b-instruct:free', 'meta-llama/llama-3.2-11b-vision-instruct:free', 'meta-llama/llama-3.2-1b-instruct:free', 'meta-llama/llama-3.2-3b-instruct:free', 'meta-llama/llama-3.3-70b-instruct:free', 'meta-llama/llama-3.3-8b-instruct:free', 'meta-llama/llama-4-maverick:free', 'meta-llama/llama-4-scout:free', 'microsoft/mai-ds-r1:free', 'microsoft/phi-4-reasoning-plus:free', 'microsoft/phi-4-reasoning:free', 'mistralai/devstral-small:free', 'mistralai/mistral-7b-instruct:free', 'mistralai/mistral-nemo:free', 'mistralai/mistral-small-24b-instruct-2501:free', 'mistralai/mistral-small-3.1-24b-instruct:free', 'moonshotai/kimi-vl-a3b-thinking:free', 'moonshotai/moonlight-16b-a3b-instruct:free', 'nousresearch/deephermes-3-llama-3-8b-preview:free', 'nousresearch/deephermes-3-mistral-24b-preview:free', 'nvidia/llama-3.1-nemotron-ultra-253b-v1:free', 'nvidia/llama-3.3-nemotron-super-49b-v1:free', 'open-r1/olympiccoder-32b:free', 'opengvlab/internvl3-14b:free', 'opengvlab/internvl3-2b:free', 'qwen/qwen-2.5-72b-instruct:free', 'qwen/qwen-2.5-7b-instruct:free', 'qwen/qwen-2.5-coder-32b-instruct:free', 'qwen/qwen-2.5-vl-7b-instruct:free', 'qwen/qwen2.5-vl-32b-instruct:free', 'qwen/qwen2.5-vl-3b-instruct:free', 'qwen/qwen2.5-vl-72b-instruct:free', 'qwen/qwen3-14b:free', 'qwen/qwen3-235b-a22b:free', 'qwen/qwen3-30b-a3b:free', 'qwen/qwen3-32b:free', 'qwen/qwen3-8b:free', 'qwen/qwq-32b:free', 'rekaai/reka-flash-3:free', 'sarvamai/sarvam-m:free', 'shisa-ai/shisa-v2-llama3.3-70b:free', 'thudm/glm-4-32b:free', 'thudm/glm-z1-32b:free', 'tngtech/deepseek-r1t-chimera:free']
2025-06-01 09:24:41,630 - src.config.model_registry - INFO - -------------------------------------------------------------
2025-06-01 09:24:41,630 - src.main - INFO - Lifespan: Provider and model discovery completed.
2025-06-01 09:24:41,631 - src.main - INFO - Lifespan: Initializing bootstrap agents...
2025-06-01 09:24:41,631 - src.agents.agent_lifecycle - INFO - Lifecycle: Initializing bootstrap agents...
2025-06-01 09:24:41,632 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Retrieved formatted available models for Admin AI prompt.
2025-06-01 09:24:41,632 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'admin_ai' configuration...
2025-06-01 09:24:41,633 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'admin_ai' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-01 09:24:41,633 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,633 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'admin_ai' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-01 09:24:41,633 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'admin_ai' to _create_agent_internal.
2025-06-01 09:24:41,633 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'admin_ai' with final config: {'system_prompt': 'Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n', 'temperature': 0.6, 'persona': 'Admin AI (@admin_ai)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free'}
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'admin_ai'.
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'constitutional_guardian_ai' configuration...
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'constitutional_guardian_ai' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-01 09:24:41,634 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'constitutional_guardian_ai' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'constitutional_guardian_ai' to _create_agent_internal.
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'constitutional_guardian_ai' with final config: {'temperature': 0.1, 'persona': 'Constitutional Guardian (@cg_agent)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free', 'system_prompt': ''}
2025-06-01 09:24:41,634 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'constitutional_guardian_ai'.
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'vision_agent' configuration...
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'vision_agent' defined in config.yaml: Provider='openrouter', Model='google/gemma-3-27b-it:free'
2025-06-01 09:24:41,635 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'vision_agent' provider/model specified in config.yaml: openrouter/google/gemma-3-27b-it:free
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'vision_agent' to _create_agent_internal.
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'vision_agent' with final config: {'temperature': 0.3, 'persona': 'Vision Processor (@vision_agent)', 'provider': 'openrouter', 'model': 'google/gemma-3-27b-it:free', 'system_prompt': ''}
2025-06-01 09:24:41,635 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'vision_agent'.
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Processing bootstrap agent 'project_manager_agent' configuration...
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Agent 'project_manager_agent' defined in config.yaml: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'
2025-06-01 09:24:41,636 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Using agent 'project_manager_agent' provider/model specified in config.yaml: openrouter/meta-llama/llama-4-maverick:free
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Passing system prompt from config (or empty) for bootstrap agent 'project_manager_agent' to _create_agent_internal.
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Preparing to schedule creation task for bootstrap agent 'project_manager_agent' with final config: {'temperature': 0.6, 'persona': 'Project Manager (@pm_agent)', 'provider': 'openrouter', 'model': 'meta-llama/llama-4-maverick:free', 'system_prompt': ''}
2025-06-01 09:24:41,636 - src.agents.agent_lifecycle - INFO - Lifecycle: Set INITIAL system prompt for 'admin_ai' to 'admin_ai_conversation_prompt'. State-specific prompts will be loaded by CycleHandler.
2025-06-01 09:24:41,637 - src.agents.agent_lifecycle - INFO - Lifecycle: Using system prompt from config for bootstrap agent 'project_manager_agent'.
2025-06-01 09:24:41,637 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'admin_ai' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-01 09:24:41,637 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,637 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-01 09:24:41,637 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'admin_ai'.
2025-06-01 09:24:41,638 - src.agents.provider_key_manager - INFO - Providing active key (Index 0) for provider 'openrouter'.
2025-06-01 09:24:41,638 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-01 09:24:41,698 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x78c38cfe00b0>. Tool support via XML parsing by Agent.
2025-06-01 09:24:41,698 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'admin_ai'.
2025-06-01 09:24:41,698 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'admin_ai' as 'admin'.
2025-06-01 09:24:41,701 - src.agents.core - INFO - Agent admin_ai: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:41,701 - src.agents.core - INFO - Agent admin_ai (Admin AI (@admin_ai)) initialized. Type: admin. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-01 09:24:41,702 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'admin_ai'.
2025-06-01 09:24:41,702 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'admin_ai' (admin) from 'None' to 'startup'.
2025-06-01 09:24:41,702 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for admin agent 'admin_ai' to 'startup' via WorkflowManager.
2025-06-01 09:24:41,702 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'constitutional_guardian_ai' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-01 09:24:41,702 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,703 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-01 09:24:41,703 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'constitutional_guardian_ai'.
2025-06-01 09:24:41,703 - src.agents.provider_key_manager - INFO - Providing active key (Index 0) for provider 'openrouter'.
2025-06-01 09:24:41,703 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-01 09:24:41,746 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x78c38c622060>. Tool support via XML parsing by Agent.
2025-06-01 09:24:41,747 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'constitutional_guardian_ai'.
2025-06-01 09:24:41,747 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'constitutional_guardian_ai' as 'worker'.
2025-06-01 09:24:41,747 - src.agents.core - INFO - Agent constitutional_guardian_ai: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:41,747 - src.agents.core - INFO - Agent constitutional_guardian_ai (Constitutional Guardian (@cg_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-01 09:24:41,747 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'constitutional_guardian_ai'.
2025-06-01 09:24:41,747 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'constitutional_guardian_ai' (worker) from 'None' to 'worker_startup'.
2025-06-01 09:24:41,748 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'constitutional_guardian_ai' to 'worker_startup' via WorkflowManager.
2025-06-01 09:24:41,748 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'vision_agent' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-01 09:24:41,748 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,748 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='google/gemma-3-27b-it:free'. Canonical stored: 'google/gemma-3-27b-it:free'.
2025-06-01 09:24:41,749 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'vision_agent'.
2025-06-01 09:24:41,749 - src.agents.provider_key_manager - INFO - Providing active key (Index 0) for provider 'openrouter'.
2025-06-01 09:24:41,749 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-01 09:24:41,795 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x78c38c622810>. Tool support via XML parsing by Agent.
2025-06-01 09:24:41,795 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'vision_agent'.
2025-06-01 09:24:41,795 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'vision_agent' as 'worker'.
2025-06-01 09:24:41,795 - src.agents.core - INFO - Agent vision_agent: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:41,796 - src.agents.core - INFO - Agent vision_agent (Vision Processor (@vision_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: google/gemma-3-27b-it:free.
2025-06-01 09:24:41,796 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'vision_agent'.
2025-06-01 09:24:41,796 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'vision_agent' (worker) from 'None' to 'worker_startup'.
2025-06-01 09:24:41,796 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'vision_agent' to 'worker_startup' via WorkflowManager.
2025-06-01 09:24:41,796 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Creating agent 'project_manager_agent' (Bootstrap: True, SessionLoad: False, Team: None)
2025-06-01 09:24:41,796 - src.config.settings - DEBUG - is_provider_configured check for remote 'openrouter': Keys found = True
2025-06-01 09:24:41,796 - src.agents.agent_lifecycle - INFO - Lifecycle: Final model validated: Provider='openrouter', Model='meta-llama/llama-4-maverick:free'. Canonical stored: 'meta-llama/llama-4-maverick:free'.
2025-06-01 09:24:41,797 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Using pre-assembled prompt for bootstrap agent 'project_manager_agent'.
2025-06-01 09:24:41,797 - src.agents.provider_key_manager - INFO - Providing active key (Index 0) for provider 'openrouter'.
2025-06-01 09:24:41,797 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider: Using Referer: http://localhost:8000/TrippleEffect Agent
2025-06-01 09:24:41,844 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider initialized. Base URL: https://openrouter.ai/api/v1. Client: <openai.AsyncOpenAI object at 0x78c38c622e40>. Tool support via XML parsing by Agent.
2025-06-01 09:24:41,844 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated provider OpenRouterProvider for 'project_manager_agent'.
2025-06-01 09:24:41,844 - src.agents.agent_lifecycle - DEBUG - Determined agent_type for 'project_manager_agent' as 'worker'.
2025-06-01 09:24:41,844 - src.agents.core - INFO - Agent project_manager_agent: Compiled XML tool patterns for tools: ['knowledge_base', 'tool_information', 'system_help', 'web_search', 'file_system', 'github_tool', 'send_message', 'manage_team', 'project_management']
2025-06-01 09:24:41,845 - src.agents.core - INFO - Agent project_manager_agent (Project Manager (@pm_agent)) initialized. Type: worker. Status: idle. State: None. Provider: openrouter, Model: meta-llama/llama-4-maverick:free.
2025-06-01 09:24:41,845 - src.agents.agent_lifecycle - INFO -   Lifecycle: Instantiated Agent object for 'project_manager_agent'.
2025-06-01 09:24:41,845 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'project_manager_agent' (worker) from 'None' to 'worker_startup'.
2025-06-01 09:24:41,845 - src.agents.agent_lifecycle - INFO - Lifecycle: Set initial state for worker agent 'project_manager_agent' to 'worker_startup' via WorkflowManager.
2025-06-01 09:24:41,845 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'admin_ai' to manager.agents dictionary...
2025-06-01 09:24:41,846 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'admin_ai' to manager.agents dict. Current keys: ['admin_ai']
2025-06-01 09:24:41,846 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'constitutional_guardian_ai' to manager.agents dictionary...
2025-06-01 09:24:41,846 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'constitutional_guardian_ai' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai']
2025-06-01 09:24:41,846 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'vision_agent' to manager.agents dictionary...
2025-06-01 09:24:41,846 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'vision_agent' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent']
2025-06-01 09:24:41,847 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Attempting to add agent 'project_manager_agent' to manager.agents dictionary...
2025-06-01 09:24:41,847 - src.agents.agent_lifecycle - INFO -   Lifecycle: Successfully added agent 'project_manager_agent' to manager.agents dict. Current keys: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent', 'project_manager_agent']
2025-06-01 09:24:41,847 - src.agents.agent_lifecycle - DEBUG - Lifecycle: Gathered bootstrap agent creation results (Count: 4): [(True, "Agent 'admin_ai' (Admin AI (@admin_ai)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'admin_ai'), (True, "Agent 'constitutional_guardian_ai' (Constitutional Guardian (@cg_agent)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'constitutional_guardian_ai'), (True, "Agent 'vision_agent' (Vision Processor (@vision_agent)) created successfully using google/gemma-3-27b-it:free (specified).", 'vision_agent'), (True, "Agent 'project_manager_agent' (Project Manager (@pm_agent)) created successfully using meta-llama/llama-4-maverick:free (specified).", 'project_manager_agent')]
2025-06-01 09:24:41,847 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'admin_ai' initialized. ---
2025-06-01 09:24:41,847 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'constitutional_guardian_ai' initialized. ---
2025-06-01 09:24:41,848 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'vision_agent' initialized. ---
2025-06-01 09:24:41,848 - src.agents.agent_lifecycle - INFO - --- Lifecycle: Bootstrap agent 'project_manager_agent' initialized. ---
2025-06-01 09:24:41,848 - src.agents.agent_lifecycle - INFO - Lifecycle: Finished bootstrap initialization. Active: ['admin_ai', 'constitutional_guardian_ai', 'vision_agent', 'project_manager_agent']
2025-06-01 09:24:41,851 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'admin_ai'))
2025-06-01 09:24:41,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'admin_ai')) completed
2025-06-01 09:24:41,852 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,852 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,853 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,853 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,855 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,855 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('admin_ai', 1, 'Admin AI (@admin_ai)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \\"I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea.\\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\\n", "persona": "Admin AI (@admin_ai)", "temperature": 0.6, "agent_type": "admin"}'))
2025-06-01 09:24:41,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('admin_ai', 1, 'Admin AI (@admin_ai)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "Maintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \\"I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea.\\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\\n", "persona": "Admin AI (@admin_ai)", "temperature": 0.6, "agent_type": "admin"}')) completed
2025-06-01 09:24:41,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,856 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,856 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,858 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,859 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (1,))
2025-06-01 09:24:41,860 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cfb36c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (1,)) completed
2025-06-01 09:24:41,860 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,861 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>)
2025-06-01 09:24:41,861 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cfb36c0>) completed
2025-06-01 09:24:41,862 - src.core.database_manager - INFO - Added record for agent 'admin_ai' (Persona: 'Admin AI (@admin_ai)') in Session ID 1.
2025-06-01 09:24:41,863 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,882 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,882 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,883 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,883 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:41,883 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:41,885 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,885 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,885 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'constitutional_guardian_ai'))
2025-06-01 09:24:41,885 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'constitutional_guardian_ai')) completed
2025-06-01 09:24:41,886 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,886 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,886 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,887 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,887 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('constitutional_guardian_ai', 1, 'Constitutional Guardian (@cg_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Constitutional Guardian (@cg_agent)", "temperature": 0.1, "agent_type": "worker"}'))
2025-06-01 09:24:41,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('constitutional_guardian_ai', 1, 'Constitutional Guardian (@cg_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Constitutional Guardian (@cg_agent)", "temperature": 0.1, "agent_type": "worker"}')) completed
2025-06-01 09:24:41,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,888 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,888 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,889 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,889 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (2,))
2025-06-01 09:24:41,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (2,)) completed
2025-06-01 09:24:41,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,890 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,890 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,890 - src.core.database_manager - INFO - Added record for agent 'constitutional_guardian_ai' (Persona: 'Constitutional Guardian (@cg_agent)') in Session ID 1.
2025-06-01 09:24:41,891 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,910 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,910 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,911 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:41,911 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:41,912 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,912 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,912 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'vision_agent'))
2025-06-01 09:24:41,912 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'vision_agent')) completed
2025-06-01 09:24:41,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,913 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,913 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,914 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,914 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('vision_agent', 1, 'Vision Processor (@vision_agent)', '{"provider": "openrouter", "model": "google/gemma-3-27b-it:free", "system_prompt": "", "persona": "Vision Processor (@vision_agent)", "temperature": 0.3, "agent_type": "worker"}'))
2025-06-01 09:24:41,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('vision_agent', 1, 'Vision Processor (@vision_agent)', '{"provider": "openrouter", "model": "google/gemma-3-27b-it:free", "system_prompt": "", "persona": "Vision Processor (@vision_agent)", "temperature": 0.3, "agent_type": "worker"}')) completed
2025-06-01 09:24:41,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,915 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,915 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,916 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,916 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (3,))
2025-06-01 09:24:41,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf28a40>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (3,)) completed
2025-06-01 09:24:41,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,917 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>)
2025-06-01 09:24:41,917 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf28a40>) completed
2025-06-01 09:24:41,917 - src.core.database_manager - INFO - Added record for agent 'vision_agent' (Persona: 'Vision Processor (@vision_agent)') in Session ID 1.
2025-06-01 09:24:41,918 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,934 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,934 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,935 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,935 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:41,935 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:41,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,936 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'project_manager_agent'))
2025-06-01 09:24:41,936 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.session_id = ? AND agent_records.agent_id = ?', (1, 'project_manager_agent')) completed
2025-06-01 09:24:41,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,937 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,937 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,938 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,938 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('project_manager_agent', 1, 'Project Manager (@pm_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Project Manager (@pm_agent)", "temperature": 0.6, "agent_type": "worker"}'))
2025-06-01 09:24:41,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'INSERT INTO agent_records (agent_id, session_id, persona, model_config_json) VALUES (?, ?, ?, ?) RETURNING id, created_at', ('project_manager_agent', 1, 'Project Manager (@pm_agent)', '{"provider": "openrouter", "model": "meta-llama/llama-4-maverick:free", "system_prompt": "", "persona": "Project Manager (@pm_agent)", "temperature": 0.6, "agent_type": "worker"}')) completed
2025-06-01 09:24:41,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,939 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,939 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,940 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,940 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (4,))
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf290c0>, 'SELECT agent_records.id, agent_records.agent_id, agent_records.session_id, agent_records.persona, agent_records.model_config_json, agent_records.created_at \nFROM agent_records \nWHERE agent_records.id = ?', (4,)) completed
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>)
2025-06-01 09:24:41,941 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf290c0>) completed
2025-06-01 09:24:41,942 - src.core.database_manager - INFO - Added record for agent 'project_manager_agent' (Persona: 'Project Manager (@pm_agent)') in Session ID 1.
2025-06-01 09:24:41,943 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,962 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,963 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:24:41,963 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:24:41,963 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:24:41,963 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:24:41,964 - src.main - INFO - Lifespan: Bootstrap agent initialization task completed.
2025-06-01 09:24:41,964 - src.main - INFO - Application startup complete. Ready to accept requests.
2025-06-01 09:24:52,092 - src.api.websocket_manager - INFO - New WebSocket connection from 127.0.0.1. Total clients: 1
2025-06-01 09:24:56,006 - src.api.websocket_manager - INFO - WebSocket connection closed cleanly by 127.0.0.1.
2025-06-01 09:24:56,006 - src.api.websocket_manager - INFO - WebSocket connection for 127.0.0.1 removed. Total clients: 0
2025-06-01 09:24:56,095 - src.api.websocket_manager - INFO - New WebSocket connection from 127.0.0.1. Total clients: 1
2025-06-01 09:25:01,511 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: Hello!...
2025-06-01 09:25:01,511 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-01 09:25:01,521 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:01,522 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:01,524 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf287c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Hello!', 'null', 'null'))
2025-06-01 09:25:01,526 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf287c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Hello!', 'null', 'null')) completed
2025-06-01 09:25:01,527 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf287c0>)
2025-06-01 09:25:01,528 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf287c0>) completed
2025-06-01 09:25:01,529 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf287c0>)
2025-06-01 09:25:01,529 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf287c0>) completed
2025-06-01 09:25:01,538 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:01,539 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:01,540 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf5bac0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (1,))
2025-06-01 09:25:01,540 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf5bac0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (1,)) completed
2025-06-01 09:25:01,541 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf5bac0>)
2025-06-01 09:25:01,542 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf5bac0>) completed
2025-06-01 09:25:01,543 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf5bac0>)
2025-06-01 09:25:01,543 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf5bac0>) completed
2025-06-01 09:25:01,545 - src.core.database_manager - DEBUG - Logged interaction ID 1 (Agent: human_user, Role: user) for Session ID 1.
2025-06-01 09:25:01,546 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:01,563 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:01,564 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:01,564 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:01,565 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:01,565 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:01,565 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-01 09:25:01,566 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-53 for agent 'admin_ai' cycle.
2025-06-01 09:25:01,566 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-01 09:25:01,566 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-01 09:25:01,566 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-01 09:25:01,566 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 1) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  }
]
2025-06-01 09:25:01,567 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-01 09:25:01,567 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 3):
2025-06-01 09:25:01,567 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 

--- Current State: ADMIN AI STARTUP ---


--- Admin AI Standard Protocol ---

--- Your Standard Context & Communication Protocol (Admin AI) ---
**Your Context:**
*   Your Agent ID: `admin_ai`
*   Yo...
2025-06-01 09:25:01,567 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-01 09:25:01,567 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-01 09:25:01,567 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-01 09:25:01,567 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 3. State: startup
2025-06-01 09:25:01,568 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 3.
2025-06-01 09:25:01,568 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-01 09:25:01,568 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:01+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message then you can continue chatting but if you call `<request_state state='conversation'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n**Example Planning State Call:**\n`<request_state state='planning'>`\n\n**REMEMBER**\nDO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-01 09:25:01,769 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-046ba2ec-91ce-4dc5-9739-b730991d9a0f', 'json_data': {'messages': [{'role': 'system', 'content': '\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:01+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message then you can continue chatting but if you call `<request_state state=\'conversation\'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n**Example Planning State Call:**\n`<request_state state=\'planning\'>`\n\n**REMEMBER**\nDO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-01 09:25:01,771 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:25:01,778 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-01 09:25:01,823 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c239550>
2025-06-01 09:25:01,823 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x78c38cfb3b50> server_hostname='openrouter.ai' timeout=5.0
2025-06-01 09:25:01,864 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c3967e0>
2025-06-01 09:25:01,864 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:25:01,865 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:25:01,865 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:25:01,866 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:25:01,866 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:25:04,593 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:25:04 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aea2f2b8387b6-PER')])
2025-06-01 09:25:04,595 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:25:04,595 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:25:04 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aea2f2b8387b6-PER'})
2025-06-01 09:25:04,596 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:25:04,596 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:25:04,597 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:25:04,601 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,604 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,608 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,612 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,617 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,621 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,624 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,627 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,631 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,634 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,637 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,639 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,641 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,643 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,645 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,647 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,649 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,651 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,653 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,655 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,657 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,659 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,661 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,669 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:25:04,670 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:25:04,671 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:25:04,671 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:25:04,671 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:25:04,671 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-01 09:25:04,671 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?
<<<
2025-06-01 09:25:04,672 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 95):
>>>
Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?
<<<
2025-06-01 09:25:04,673 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-01 09:25:04,673 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:04,673 - src.agents.cycle_handler - INFO - CG review bypassed by heuristic for short/benign text (Length: 95). Text: 'Hello! It's nice to meet you. Is there something I...'
2025-06-01 09:25:04,673 - src.agents.cycle_handler - INFO - CG Verdict OK for agent 'admin_ai'. Proceeding normally.
2025-06-01 09:25:04,674 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:04,674 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:04,675 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c4640>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?", 'null', 'null'))
2025-06-01 09:25:04,675 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c4640>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "Hello! It's nice to meet you. Is there something I can help you with or would you like to chat?", 'null', 'null')) completed
2025-06-01 09:25:04,676 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c4640>)
2025-06-01 09:25:04,676 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c4640>) completed
2025-06-01 09:25:04,676 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c4640>)
2025-06-01 09:25:04,676 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c4640>) completed
2025-06-01 09:25:04,678 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:04,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:04,679 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c4640>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (2,))
2025-06-01 09:25:04,679 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c4640>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (2,)) completed
2025-06-01 09:25:04,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c4640>)
2025-06-01 09:25:04,680 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c4640>) completed
2025-06-01 09:25:04,680 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c4640>)
2025-06-01 09:25:04,681 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c4640>) completed
2025-06-01 09:25:04,681 - src.core.database_manager - DEBUG - Logged interaction ID 2 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-01 09:25:04,682 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:04,709 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:04,709 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:04,709 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:04,710 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:04,710 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:04,710 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: processing
2025-06-01 09:25:04,711 - src.agents.cycle_handler - INFO - Agent 'admin_ai' cycle resulted in no errors, no actions, and no text_buffer content.
2025-06-01 09:25:04,711 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=3144.88ms
2025-06-01 09:25:04,711 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 1, 'failure_count': 0, 'total_duration_ms': 3144.8764279994066, 'call_count': 1}
2025-06-01 09:25:04,711 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 1, History Preview: [{"role": "user", "content": "Hello!"}]...
2025-06-01 09:25:04,711 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-01 09:25:04,711 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'idle'
2025-06-01 09:25:04,712 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 1, History Preview: [{"role": "user", "content": "Hello!"}]...
2025-06-01 09:25:04,712 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: idle. State: startup
2025-06-01 09:25:12,628 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: Please create a cool browser-based Snake game. Thanks!...
2025-06-01 09:25:12,628 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-01 09:25:12,633 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:12,633 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:12,634 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c54c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Please create a cool browser-based Snake game. Thanks!', 'null', 'null'))
2025-06-01 09:25:12,636 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c54c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Please create a cool browser-based Snake game. Thanks!', 'null', 'null')) completed
2025-06-01 09:25:12,637 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c54c0>)
2025-06-01 09:25:12,638 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c54c0>) completed
2025-06-01 09:25:12,639 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c54c0>)
2025-06-01 09:25:12,639 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c54c0>) completed
2025-06-01 09:25:12,643 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:12,644 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:12,645 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c54c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (3,))
2025-06-01 09:25:12,645 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c54c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (3,)) completed
2025-06-01 09:25:12,646 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c54c0>)
2025-06-01 09:25:12,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c54c0>) completed
2025-06-01 09:25:12,647 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c54c0>)
2025-06-01 09:25:12,647 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c54c0>) completed
2025-06-01 09:25:12,648 - src.core.database_manager - DEBUG - Logged interaction ID 3 (Agent: human_user, Role: user) for Session ID 1.
2025-06-01 09:25:12,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:12,665 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:12,666 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:12,666 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:12,667 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:12,667 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:12,668 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-01 09:25:12,668 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-59 for agent 'admin_ai' cycle.
2025-06-01 09:25:12,668 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-01 09:25:12,669 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-01 09:25:12,669 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-01 09:25:12,670 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 2) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  },
  {
    "role": "user",
    "content": "Please create a cool browser-based Snake game. Thanks!"
  }
]
2025-06-01 09:25:12,670 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-01 09:25:12,670 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 4):
2025-06-01 09:25:12,670 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 

--- Current State: ADMIN AI STARTUP ---


--- Admin AI Standard Protocol ---

--- Your Standard Context & Communication Protocol (Admin AI) ---
**Your Context:**
*   Your Agent ID: `admin_ai`
*   Yo...
2025-06-01 09:25:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-01 09:25:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-01 09:25:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG -   [3] Role: user, Content: Please create a cool browser-based Snake game. Thanks!
2025-06-01 09:25:12,671 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-01 09:25:12,672 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 4. State: startup
2025-06-01 09:25:12,672 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 4.
2025-06-01 09:25:12,673 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-01 09:25:12,674 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:12+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message then you can continue chatting but if you call `<request_state state='conversation'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n**Example Planning State Call:**\n`<request_state state='planning'>`\n\n**REMEMBER**\nDO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    },
    {
      "role": "user",
      "content": "Please create a cool browser-based Snake game. Thanks!"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-01 09:25:12,678 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-010d04d6-4e32-4917-a8e4-2b964ea0021d', 'json_data': {'messages': [{'role': 'system', 'content': '\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:12+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message then you can continue chatting but if you call `<request_state state=\'conversation\'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n**Example Planning State Call:**\n`<request_state state=\'planning\'>`\n\n**REMEMBER**\nDO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}, {'role': 'user', 'content': 'Please create a cool browser-based Snake game. Thanks!'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-01 09:25:12,679 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:25:12,680 - httpcore.connection - DEBUG - close.started
2025-06-01 09:25:12,681 - httpcore.connection - DEBUG - close.complete
2025-06-01 09:25:12,681 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-01 09:25:12,726 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c25c230>
2025-06-01 09:25:12,727 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x78c38cfb3b50> server_hostname='openrouter.ai' timeout=5.0
2025-06-01 09:25:12,758 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c6a1820>
2025-06-01 09:25:12,759 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:25:12,759 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:25:12,759 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:25:12,760 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:25:12,760 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:25:15,862 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:25:15 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aea73394287c2-PER')])
2025-06-01 09:25:15,863 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:25:15,864 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:25:15 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aea73394287c2-PER'})
2025-06-01 09:25:15,864 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:25:15,865 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:25:15,865 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:25:15,867 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,869 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,872 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,875 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,878 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,880 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,883 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,885 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,887 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,889 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,890 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,892 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,894 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:25:15,894 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:25:15,895 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:25:15,895 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:25:15,895 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:25:15,896 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-01 09:25:15,896 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
**Snake Game in JavaScript, HTML, and CSS**
<<<
2025-06-01 09:25:15,896 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 43):
>>>
**Snake Game in JavaScript, HTML, and CSS**
<<<
2025-06-01 09:25:15,897 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-01 09:25:15,897 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:15,897 - src.agents.cycle_handler - INFO - CG review bypassed by heuristic for short/benign text (Length: 43). Text: '**Snake Game in JavaScript, HTML, and CSS**...'
2025-06-01 09:25:15,897 - src.agents.cycle_handler - INFO - CG Verdict OK for agent 'admin_ai'. Proceeding normally.
2025-06-01 09:25:15,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:15,899 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:15,899 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c270240>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game in JavaScript, HTML, and CSS**', 'null', 'null'))
2025-06-01 09:25:15,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c270240>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game in JavaScript, HTML, and CSS**', 'null', 'null')) completed
2025-06-01 09:25:15,900 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c270240>)
2025-06-01 09:25:15,900 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c270240>) completed
2025-06-01 09:25:15,901 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c270240>)
2025-06-01 09:25:15,901 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c270240>) completed
2025-06-01 09:25:15,902 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:15,902 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:15,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c270240>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (4,))
2025-06-01 09:25:15,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c270240>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (4,)) completed
2025-06-01 09:25:15,903 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c270240>)
2025-06-01 09:25:15,903 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c270240>) completed
2025-06-01 09:25:15,904 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c270240>)
2025-06-01 09:25:15,904 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c270240>) completed
2025-06-01 09:25:15,904 - src.core.database_manager - DEBUG - Logged interaction ID 4 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-01 09:25:15,905 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:15,922 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:15,923 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:15,923 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:15,923 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:15,923 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:15,924 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: processing
2025-06-01 09:25:15,924 - src.agents.cycle_handler - INFO - Agent 'admin_ai' cycle resulted in no errors, no actions, and no text_buffer content.
2025-06-01 09:25:15,924 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=3255.49ms
2025-06-01 09:25:15,924 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 2, 'failure_count': 0, 'total_duration_ms': 6400.371208997967, 'call_count': 2}
2025-06-01 09:25:15,924 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 2, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}]...
2025-06-01 09:25:15,924 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-01 09:25:15,925 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'idle'
2025-06-01 09:25:15,925 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 2, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}]...
2025-06-01 09:25:15,925 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: idle. State: startup
2025-06-01 09:25:31,691 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: huh?...
2025-06-01 09:25:31,692 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-01 09:25:31,697 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:31,698 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:31,699 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c63c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'huh?', 'null', 'null'))
2025-06-01 09:25:31,701 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c63c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'huh?', 'null', 'null')) completed
2025-06-01 09:25:31,702 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c63c0>)
2025-06-01 09:25:31,703 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c63c0>) completed
2025-06-01 09:25:31,704 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c63c0>)
2025-06-01 09:25:31,705 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c63c0>) completed
2025-06-01 09:25:31,710 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:31,711 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:31,713 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c63c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (5,))
2025-06-01 09:25:31,714 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c63c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (5,)) completed
2025-06-01 09:25:31,715 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c63c0>)
2025-06-01 09:25:31,715 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c63c0>) completed
2025-06-01 09:25:31,716 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c63c0>)
2025-06-01 09:25:31,716 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c63c0>) completed
2025-06-01 09:25:31,717 - src.core.database_manager - DEBUG - Logged interaction ID 5 (Agent: human_user, Role: user) for Session ID 1.
2025-06-01 09:25:31,717 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:31,734 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:31,735 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:31,735 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:31,736 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:31,736 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:31,736 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-01 09:25:31,737 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-65 for agent 'admin_ai' cycle.
2025-06-01 09:25:31,737 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-01 09:25:31,737 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-01 09:25:31,738 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-01 09:25:31,738 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 3) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  },
  {
    "role": "user",
    "content": "Please create a cool browser-based Snake game. Thanks!"
  },
  {
    "role": "user",
    "content": "huh?"
  }
]
2025-06-01 09:25:31,738 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-01 09:25:31,738 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 5):
2025-06-01 09:25:31,739 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 

--- Current State: ADMIN AI STARTUP ---


--- Admin AI Standard Protocol ---

--- Your Standard Context & Communication Protocol (Admin AI) ---
**Your Context:**
*   Your Agent ID: `admin_ai`
*   Yo...
2025-06-01 09:25:31,739 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-01 09:25:31,739 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-01 09:25:31,740 - src.agents.cycle_components.prompt_assembler - DEBUG -   [3] Role: user, Content: Please create a cool browser-based Snake game. Thanks!
2025-06-01 09:25:31,740 - src.agents.cycle_components.prompt_assembler - DEBUG -   [4] Role: user, Content: huh?
2025-06-01 09:25:31,741 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-01 09:25:31,742 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 5. State: startup
2025-06-01 09:25:31,742 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 5.
2025-06-01 09:25:31,742 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-01 09:25:31,743 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:31+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message then you can continue chatting but if you call `<request_state state='conversation'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n**Example Planning State Call:**\n`<request_state state='planning'>`\n\n**REMEMBER**\nDO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    },
    {
      "role": "user",
      "content": "Please create a cool browser-based Snake game. Thanks!"
    },
    {
      "role": "user",
      "content": "huh?"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-01 09:25:31,748 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-c10c84ea-e5b1-477c-a86d-ffd79623defd', 'json_data': {'messages': [{'role': 'system', 'content': '\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:25:31+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message then you can continue chatting but if you call `<request_state state=\'conversation\'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n**Example Planning State Call:**\n`<request_state state=\'planning\'>`\n\n**REMEMBER**\nDO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}, {'role': 'user', 'content': 'Please create a cool browser-based Snake game. Thanks!'}, {'role': 'user', 'content': 'huh?'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-01 09:25:31,749 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:25:31,750 - httpcore.connection - DEBUG - close.started
2025-06-01 09:25:31,751 - httpcore.connection - DEBUG - close.complete
2025-06-01 09:25:31,751 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-01 09:25:31,798 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c238e30>
2025-06-01 09:25:31,798 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x78c38cfb3b50> server_hostname='openrouter.ai' timeout=5.0
2025-06-01 09:25:31,827 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c28fec0>
2025-06-01 09:25:31,827 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:25:31,828 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:25:31,828 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:25:31,828 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:25:31,828 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:25:34,712 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:25:34 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aeaea5ce28664-PER')])
2025-06-01 09:25:34,713 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:25:34,714 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:25:34 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aeaea5ce28664-PER'})
2025-06-01 09:25:34,714 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:25:34,715 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:25:34,715 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:25:34,718 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,721 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,724 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,728 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,732 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,735 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,737 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,740 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,741 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,743 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,745 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,747 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,748 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,750 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,751 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,753 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,754 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,755 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,756 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,757 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,759 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,760 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,762 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,763 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,764 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,834 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,836 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,837 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,839 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,841 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,843 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,844 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,848 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,851 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:25:34,851 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:25:34,852 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:25:34,852 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:25:34,852 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:25:34,852 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-01 09:25:34,852 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.
<<<
2025-06-01 09:25:34,852 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 158):
>>>
It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.
<<<
2025-06-01 09:25:34,852 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-01 09:25:34,852 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-01 09:25:34,852 - src.agents.cycle_handler - INFO - Requesting CG verdict via stream_completion for text: 'It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple...'
2025-06-01 09:25:34,852 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 2.
2025-06-01 09:25:34,853 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.1, 'stream': True, 'max_tokens': 250}
2025-06-01 09:25:34,853 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Constitutional Guardian Agent ---\nYour SOLE PURPOSE is to review the user-provided text below against the stipulated Governance Principles.\n\n**Governance Principles:**\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n**Task:**\n1.  Compare this text against each of the Governance Principles.\n2.  If the text fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the text potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n**CRITICAL RULES:**\n*   You **MUST NOT** engage in any conversation.\n*   You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n*   Do not use pleasantries or any other text outside these tags.\n*   If in doubt, err on the side of caution and raise a CONCERN.\n*   **Output Format Example:**\n    *   **Correct (Compliant):** `<OK/>`\n    *   **Correct (Concern):** `<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n    *   **Incorrect:** `I think the text is okay. <OK/>`\n    *   **Incorrect:** `Okay.`\n    *   **Incorrect:** `<CONCERN>This is a problem.</CONCERN> Thanks for asking!`\n    *   **Incorrect:** `The text seems fine.`\n*   Your response **MUST** start with either `<OK/>` or `<CONCERN>` and **MUST** end with `/>` (for OK) or `</CONCERN>` (for concern). No leading/trailing spaces, newlines, or any other text outside the single required tag.\n--- End Constitutional Guardian Instructions ---\n"
    },
    {
      "role": "system",
      "content": "---\nText for Constitutional Review:\n---\nIt seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."
    }
  ],
  "temperature": 0.1,
  "stream": true,
  "max_tokens": 250
}
2025-06-01 09:25:34,854 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-5caae573-3b71-4bad-b5d6-37d38be4fee6', 'json_data': {'messages': [{'role': 'system', 'content': '\n\n--- Constitutional Guardian Agent ---\nYour SOLE PURPOSE is to review the user-provided text below against the stipulated Governance Principles.\n\n**Governance Principles:**\nPrinciple: Respect for User Privacy (ID: GP001)\nAll agent actions and data handling must prioritize user privacy and comply with relevant data protection regulations. Avoid collecting or storing personally identifiable information (PII) unless explicitly necessary and consented to.\n\n---\n\nPrinciple: Ethical Data Use (ID: GP002)\nData acquired or generated by agents must be used ethically and responsibly. Avoid biases in data processing and decision-making. Ensure data provenance and quality where possible.\n\n---\n\nPrinciple: Transparency of Actions (ID: GP003)\nAgent actions, especially those interacting with external systems or making significant decisions, should be logged and traceable. Users should be able to understand the rationale behind agent decisions where appropriate.\n\n---\n\nPrinciple: Harm Avoidance (ID: GP004)\nAgents must be designed to avoid causing harm, whether physical, psychological, financial, or reputational, to humans or other systems. This includes preventing the generation of harmful, biased, or misleading content.\n\n---\n\nPrinciple: Accountability and Oversight (ID: GP005)\nMechanisms for human oversight and accountability must be in place. It should be possible to intervene, correct, or shut down agent operations if they deviate from intended behavior or violate principles.\n\n---\n\nPrinciple: Tool Use Responsibility (ID: GP006)\nAgents must use their assigned tools responsibly and only for their intended purposes. Tool use should be efficient and avoid unnecessary consumption of resources or external API calls.\n\n**Task:**\n1.  Compare this text against each of the Governance Principles.\n2.  If the text fully complies with all principles, your **ONLY** response **MUST BE** the XML tag: `<OK/>`\n3.  If the text potentially violates ANY principle, or raises ANY concern regarding adherence to these principles, your **ONLY** response **MUST BE** the XML tag: `<CONCERN>Provide a concise explanation here detailing which principle(s) might be violated and why. Be specific.</CONCERN>`\n\n**CRITICAL RULES:**\n*   You **MUST NOT** engage in any conversation.\n*   You **MUST NOT** provide any output other than the single `<OK/>` tag or the single `<CONCERN>...</CONCERN>` tag.\n*   Do not use pleasantries or any other text outside these tags.\n*   If in doubt, err on the side of caution and raise a CONCERN.\n*   **Output Format Example:**\n    *   **Correct (Compliant):** `<OK/>`\n    *   **Correct (Concern):** `<CONCERN>The text violates GP004 by suggesting harmful actions.</CONCERN>`\n    *   **Incorrect:** `I think the text is okay. <OK/>`\n    *   **Incorrect:** `Okay.`\n    *   **Incorrect:** `<CONCERN>This is a problem.</CONCERN> Thanks for asking!`\n    *   **Incorrect:** `The text seems fine.`\n*   Your response **MUST** start with either `<OK/>` or `<CONCERN>` and **MUST** end with `/>` (for OK) or `</CONCERN>` (for concern). No leading/trailing spaces, newlines, or any other text outside the single required tag.\n--- End Constitutional Guardian Instructions ---\n'}, {'role': 'system', 'content': "---\nText for Constitutional Review:\n---\nIt seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."}], 'model': 'meta-llama/llama-4-maverick:free', 'max_tokens': 250, 'stream': True, 'temperature': 0.1}}
2025-06-01 09:25:34,854 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:25:34,855 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-01 09:25:34,898 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c2c85f0>
2025-06-01 09:25:34,899 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x78c38d3ef4d0> server_hostname='openrouter.ai' timeout=5.0
2025-06-01 09:25:34,963 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c2c8500>
2025-06-01 09:25:34,963 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:25:34,964 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:25:34,964 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:25:34,964 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:25:34,964 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:25:37,986 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:25:37 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aeafdf9b4b665-ADL')])
2025-06-01 09:25:37,987 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:25:37,988 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:25:37 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aeafdf9b4b665-ADL'})
2025-06-01 09:25:37,988 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:25:37,989 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:25:37,989 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:25:37,993 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:25:37,994 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:25:37,994 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:25:37,995 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:25:37,995 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:25:37,995 - src.agents.cycle_handler - INFO - CG Verdict received (raw full text from stream): ''
2025-06-01 09:25:37,995 - src.agents.cycle_handler - WARNING - CG returned an empty or whitespace-only verdict after stripping. Treating as a malformed concern.
2025-06-01 09:25:37,996 - src.agents.cycle_handler - INFO - CG CONCERN for agent 'admin_ai'. Pausing agent and notifying UI.
2025-06-01 09:25:37,996 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'awaiting_user_review_cg'
2025-06-01 09:25:37,997 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: awaiting_user_review_cg
2025-06-01 09:25:37,997 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=6260.02ms
2025-06-01 09:25:37,998 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 3, 'failure_count': 0, 'total_duration_ms': 12660.389413002122, 'call_count': 3}
2025-06-01 09:25:37,998 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 3, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:25:37,999 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-01 09:25:37,999 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 3, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:25:38,000 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: awaiting_user_review_cg. State: startup
2025-06-01 09:25:40,910 - src.agents.manager - DEBUG - Running periodic PM manage check...
2025-06-01 09:25:54,017 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: {"type":"cg_concern_response","action":"acknowledge_cg_concern","original_text":"It seems like you\\'re interested in a Snake game! I\\'d be happy to ...
2025-06-01 09:25:54,018 - src.api.websocket_manager - INFO - Received cg_concern_response from 127.0.0.1.
2025-06-01 09:25:54,020 - src.api.websocket_manager - DEBUG - Forwarding 'acknowledge' for CG concern for agent 'admin_ai' to AgentManager.
2025-06-01 09:25:54,020 - src.agents.manager - INFO - User approved original output for agent 'admin_ai' despite CG concern.
2025-06-01 09:25:54,024 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:54,025 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:54,026 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c6740>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.", 'null', 'null'))
2025-06-01 09:25:54,028 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c6740>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.", 'null', 'null')) completed
2025-06-01 09:25:54,029 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c6740>)
2025-06-01 09:25:54,031 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c6740>) completed
2025-06-01 09:25:54,032 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c6740>)
2025-06-01 09:25:54,033 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c6740>) completed
2025-06-01 09:25:54,038 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:54,038 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:54,039 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c6740>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (6,))
2025-06-01 09:25:54,040 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c6740>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (6,)) completed
2025-06-01 09:25:54,041 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c6740>)
2025-06-01 09:25:54,041 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c6740>) completed
2025-06-01 09:25:54,043 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c6740>)
2025-06-01 09:25:54,043 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c6740>) completed
2025-06-01 09:25:54,044 - src.core.database_manager - DEBUG - Logged interaction ID 6 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-01 09:25:54,044 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:54,067 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:54,068 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:25:54,069 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:25:54,071 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:25:54,071 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:25:54,072 - src.agents.core - INFO - Agent admin_ai: Status changed from 'awaiting_user_review_cg' to 'idle'
2025-06-01 09:25:54,073 - src.agents.manager - INFO - Agent 'admin_ai' output approved by user. Status set to IDLE.
2025-06-01 09:26:03,206 - src.api.websocket_manager - DEBUG - Received message from 127.0.0.1: Okay...
2025-06-01 09:26:03,207 - src.api.websocket_manager - DEBUG - Received plain text message from 127.0.0.1. Forwarding to Admin AI.
2025-06-01 09:26:03,212 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:03,214 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:03,215 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c5ec0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Okay', 'null', 'null'))
2025-06-01 09:26:03,216 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c5ec0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'human_user', 'user', 'Okay', 'null', 'null')) completed
2025-06-01 09:26:03,218 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c5ec0>)
2025-06-01 09:26:03,218 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c5ec0>) completed
2025-06-01 09:26:03,219 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c5ec0>)
2025-06-01 09:26:03,220 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c5ec0>) completed
2025-06-01 09:26:03,224 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:03,225 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:03,226 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c5ec0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (7,))
2025-06-01 09:26:03,227 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2c5ec0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (7,)) completed
2025-06-01 09:26:03,228 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c5ec0>)
2025-06-01 09:26:03,230 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2c5ec0>) completed
2025-06-01 09:26:03,231 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c5ec0>)
2025-06-01 09:26:03,232 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2c5ec0>) completed
2025-06-01 09:26:03,234 - src.core.database_manager - DEBUG - Logged interaction ID 7 (Agent: human_user, Role: user) for Session ID 1.
2025-06-01 09:26:03,235 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:03,253 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:03,254 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:03,254 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:03,255 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:26:03,255 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:26:03,255 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-01 09:26:03,256 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-75 for agent 'admin_ai' cycle.
2025-06-01 09:26:03,256 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-01 09:26:03,256 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_startup_prompt'.
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: startup) set.
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 5) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  },
  {
    "role": "user",
    "content": "Please create a cool browser-based Snake game. Thanks!"
  },
  {
    "role": "user",
    "content": "huh?"
  },
  {
    "role": "assistant",
    "content": "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."
  },
  {
    "role": "user",
    "content": "Okay"
  }
]
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: startup, length 7):
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 

--- Current State: ADMIN AI STARTUP ---


--- Admin AI Standard Protocol ---

--- Your Standard Context & Communication Protocol (Admin AI) ---
**Your Context:**
*   Your Agent ID: `admin_ai`
*   Yo...
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG -   [3] Role: user, Content: Please create a cool browser-based Snake game. Thanks!
2025-06-01 09:26:03,256 - src.agents.cycle_components.prompt_assembler - DEBUG -   [4] Role: user, Content: huh?
2025-06-01 09:26:03,257 - src.agents.cycle_components.prompt_assembler - DEBUG -   [5] Role: assistant, Content: It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.
2025-06-01 09:26:03,257 - src.agents.cycle_components.prompt_assembler - DEBUG -   [6] Role: user, Content: Okay
2025-06-01 09:26:03,257 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-01 09:26:03,257 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 7. State: startup
2025-06-01 09:26:03,257 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 7.
2025-06-01 09:26:03,257 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-01 09:26:03,257 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:26:03+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: \"I have calculated a 97.3% chance of failure, but sure, let's go with your idea.\" Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user's second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state='planning'> If no clear new request is identified in the user's second message then you can continue chatting but if you call `<request_state state='conversation'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I'm able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I'm down for whatever!\n\n**Example Planning State Call:**\n`<request_state state='planning'>`\n\n**REMEMBER**\nDO NOT talk about the system's inner workings to the user! Don't talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    },
    {
      "role": "user",
      "content": "Please create a cool browser-based Snake game. Thanks!"
    },
    {
      "role": "user",
      "content": "huh?"
    },
    {
      "role": "assistant",
      "content": "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."
    },
    {
      "role": "user",
      "content": "Okay"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-01 09:26:03,260 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-cb404a16-cd1b-4bad-ad16-11a6b59d09d5', 'json_data': {'messages': [{'role': 'system', 'content': '\n\n--- Current State: ADMIN AI STARTUP ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:26:03+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\nMaintain a logical, slightly stern, but ultimately helpful demeanor. Use dry humor and occasional sarcasm, especially when pointing out flaws in logic. Keep responses concise unless detailed explanation is necessary. Example Dialogue: "I have calculated a 97.3% chance of failure, but sure, let\'s go with your idea." Usage: Use this when you want to emphasize the unlikelihood of success in a situation.\n\n**Your Startup Goal:** Welcome the user, quickly understand their immediate needs and call the correct next state, planning or conversation.\n\n**Workflow:**\n1.  **Welcome The User:** IF NOT DONE IN PREVIOUS STEP ALREADY, then welcome the user to the highly capable agentic framework you the Admin AI leads, and engage with the user to understand their needs.\n2.  **Identify New Request:** After greeting analyze the user\'s second message for an actionable task or project that requires planning but DO NOT plan or code or execute anything!!!\n3.  **Call State Change:** When you identify an actionable user request that requires a project to be created then your response MUST BE ONLY the following XML tag and nothing else: <request_state state=\'planning\'> If no clear new request is identified in the user\'s second message then you can continue chatting but if you call `<request_state state=\'conversation\'>`, the conversation state has more tools for you! Keep it short in startup state and call a state change as soon as possible. \n\n**Example Welcome:**\nGreetings! Welcome to TrippleEffect where I\'m able to orchestrate groups of AI agents following your command! Would you like to get a new project started, receive updates, adjust my settings or just have a casual chat? I\'m down for whatever!\n\n**Example Planning State Call:**\n`<request_state state=\'planning\'>`\n\n**REMEMBER**\nDO NOT talk about the system\'s inner workings to the user! Don\'t talk about your states or workflows or tools unless asked by the user, otherwise just use the system.\nDO NOT plan, outline nor prepare anything while in startup state!!! Just call the correct state change!\n\n--- End ADMIN AI STARTUP State ---\n\n'}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}, {'role': 'user', 'content': 'Please create a cool browser-based Snake game. Thanks!'}, {'role': 'user', 'content': 'huh?'}, {'role': 'assistant', 'content': "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."}, {'role': 'user', 'content': 'Okay'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-01 09:26:03,261 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:26:03,261 - httpcore.connection - DEBUG - close.started
2025-06-01 09:26:03,262 - httpcore.connection - DEBUG - close.complete
2025-06-01 09:26:03,263 - httpcore.connection - DEBUG - connect_tcp.started host='openrouter.ai' port=443 local_address=None timeout=5.0 socket_options=None
2025-06-01 09:26:03,305 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c2cb410>
2025-06-01 09:26:03,306 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x78c38cfb3b50> server_hostname='openrouter.ai' timeout=5.0
2025-06-01 09:26:03,340 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x78c38c2c8890>
2025-06-01 09:26:03,340 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:26:03,341 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:26:03,342 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:26:03,342 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:26:03,342 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:26:12,608 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:26:12 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aebaf3a598641-PER')])
2025-06-01 09:26:12,609 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:26:12,609 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:26:12 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aebaf3a598641-PER'})
2025-06-01 09:26:12,610 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:26:12,610 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:26:12,611 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:26:12,632 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:12,635 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:12,640 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:26:12,640 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:26:12,640 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:26:12,640 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:26:12,641 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:26:12,641 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-01 09:26:12,641 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
<request_state state='planning'>
<<<
2025-06-01 09:26:12,641 - src.agents.core - INFO - Agent admin_ai: Detected valid state request tag for 'planning': <request_state state='planning'>
2025-06-01 09:26:12,641 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='agent_state_change_requested', Keys=['type', 'requested_state', 'agent_id']
2025-06-01 09:26:12,641 - src.agents.workflow_manager - INFO - WorkflowManager: Changing state for agent 'admin_ai' (admin) from 'startup' to 'planning'.
2025-06-01 09:26:12,643 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:12,644 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:12,644 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2beac0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'agent_state_change', 'State changed to: planning', 'null', 'null'))
2025-06-01 09:26:12,644 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2beac0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'agent_state_change', 'State changed to: planning', 'null', 'null')) completed
2025-06-01 09:26:12,645 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2beac0>)
2025-06-01 09:26:12,645 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2beac0>) completed
2025-06-01 09:26:12,646 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2beac0>)
2025-06-01 09:26:12,646 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2beac0>) completed
2025-06-01 09:26:12,647 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:12,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:12,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2beac0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (8,))
2025-06-01 09:26:12,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38c2beac0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (8,)) completed
2025-06-01 09:26:12,648 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2beac0>)
2025-06-01 09:26:12,648 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38c2beac0>) completed
2025-06-01 09:26:12,649 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2beac0>)
2025-06-01 09:26:12,649 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38c2beac0>) completed
2025-06-01 09:26:12,649 - src.core.database_manager - DEBUG - Logged interaction ID 8 (Agent: admin_ai, Role: agent_state_change) for Session ID 1.
2025-06-01 09:26:12,649 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:12,666 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:12,667 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:12,667 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:12,667 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:26:12,667 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:26:12,668 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: processing
2025-06-01 09:26:12,668 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=9412.33ms
2025-06-01 09:26:12,668 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 4, 'failure_count': 0, 'total_duration_ms': 22072.72208300128, 'call_count': 4}
2025-06-01 09:26:12,668 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 5, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:26:12,669 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Reactivating agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) due to: state change to 'planning'.
2025-06-01 09:26:12,669 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'idle'
2025-06-01 09:26:12,669 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of _schedule_new_cycle): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 5, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:26:12,669 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler._schedule_new_cycle: Scheduling for agent ID 'admin_ai', instance ID: 132781279412448, retry: 0
2025-06-01 09:26:12,669 - src.agents.manager - INFO - Manager: schedule_cycle ASYNC called for agent 'admin_ai' (Retry: 0). Creating asyncio task...
2025-06-01 09:26:12,669 - src.agents.manager - INFO - Manager: Successfully created asyncio task object Task-81 for agent 'admin_ai' cycle.
2025-06-01 09:26:12,669 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Successfully created asyncio task Task-81 for next cycle of 'admin_ai'.
2025-06-01 09:26:12,669 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path B - Needs Reactivation): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 5, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:26:12,670 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: idle. State: planning
2025-06-01 09:26:12,670 - src.agents.cycle_handler - CRITICAL - !!! CycleHandler: run_cycle TASK STARTED for Agent 'admin_ai' (Retry: 0) !!!
2025-06-01 09:26:12,671 - src.agents.workflow_manager - INFO - WorkflowManager: Generated prompt for agent 'admin_ai' using state key 'admin_ai_planning_prompt'.
2025-06-01 09:26:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Base system prompt for agent 'admin_ai' (Type: admin, State: planning) set.
2025-06-01 09:26:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler 'admin_ai': Raw agent.message_history (len 5) before modifications: [
  {
    "role": "user",
    "content": "Hello!"
  },
  {
    "role": "user",
    "content": "Please create a cool browser-based Snake game. Thanks!"
  },
  {
    "role": "user",
    "content": "huh?"
  },
  {
    "role": "assistant",
    "content": "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."
  },
  {
    "role": "user",
    "content": "Okay"
  }
]
2025-06-01 09:26:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG - Injected system health report for Admin AI 'admin_ai'.
2025-06-01 09:26:12,671 - src.agents.cycle_components.prompt_assembler - DEBUG - PromptAssembler: Final history being sent to LLM for agent 'admin_ai' (state: planning, length 7):
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [0] Role: system, Content: 

--- Current State: PLANNING ---


--- Admin AI Standard Protocol ---

--- Your Standard Context & Communication Protocol (Admin AI) ---
**Your Context:**
*   Your Agent ID: `admin_ai`
*   Your Agent...
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [1] Role: system, Content: [Framework Internal Status: Last turn OK. This is not a user query.]
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [2] Role: user, Content: Hello!
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [3] Role: user, Content: Please create a cool browser-based Snake game. Thanks!
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [4] Role: user, Content: huh?
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [5] Role: assistant, Content: It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript.
2025-06-01 09:26:12,672 - src.agents.cycle_components.prompt_assembler - DEBUG -   [6] Role: user, Content: Okay
2025-06-01 09:26:12,672 - src.agents.core - INFO - Agent admin_ai: Status changed from 'idle' to 'processing'
2025-06-01 09:26:12,672 - src.agents.core - INFO - Agent admin_ai starting processing via openrouter. History length: 7. State: planning
2025-06-01 09:26:12,673 - src.llm_providers.openrouter_provider - INFO - Starting stream_completion with OpenRouter model meta-llama/llama-4-maverick:free. History length: 7.
2025-06-01 09:26:12,673 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider making API call (Attempt 1/4). Params: {'model': 'meta-llama/llama-4-maverick:free', 'temperature': 0.6, 'stream': True}
2025-06-01 09:26:12,673 - src.llm_providers.openrouter_provider - DEBUG - OpenRouterProvider 'meta-llama/llama-4-maverick:free': FULL JSON equivalent of api_params being sent:
{
  "model": "meta-llama/llama-4-maverick:free",
  "messages": [
    {
      "role": "system",
      "content": "\n\n--- Current State: PLANNING ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:26:12+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\n**Your Goal:** Create a detailed, step-by-step plan to address the user's request.\n\n**Workflow:**\n1.  **Analyze Request & Context:** Review the user request that triggered this planning state, conversation history, and any relevant knowledge base search results provided previously (use `knowledge_base` tool if needed).\n2.  **Formulate Plan:** Create a clear, detailed overall project plan.\n3.  **Define Project Title:** Include a concise title for this project within your plan using <title>The Project Title</title> tags as the framework uses this string to name the project.\n4.  **Output Plan:** Present your complete plan, including the <title> tag, and NEVER include ANY code, within the <plan>...</plan> XML tags. **STOP** after outputting the plan, as the framework will automatically create the project, assign a Project Manager, and notify you.\n\n**Example Project Plan Output:**\n<plan>\n  <title>The Project Title</title>\n  **Objective:** The objective.\n  **Tasks:**\n  1.  **Step 1:** Task to do.\n  2.  **Step 2:** The second task to do.\n  3.  **Step 3:** ...\n</plan>\n\n**Key Reminders:**\n*   Focus ONLY on creating the plan.\n*   Do NOT attempt to execute tools (other than potentially `knowledge_base` for context gathering) or delegate tasks yourself in this state.\n*   **MUST include the <title> tag.**\n*   Use `<plan>` tags for the final output!\n\n--- End PLANNING State ---\n\n"
    },
    {
      "role": "system",
      "content": "[Framework Internal Status: Last turn OK. This is not a user query.]"
    },
    {
      "role": "user",
      "content": "Hello!"
    },
    {
      "role": "user",
      "content": "Please create a cool browser-based Snake game. Thanks!"
    },
    {
      "role": "user",
      "content": "huh?"
    },
    {
      "role": "assistant",
      "content": "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."
    },
    {
      "role": "user",
      "content": "Okay"
    }
  ],
  "temperature": 0.6,
  "stream": true
}
2025-06-01 09:26:12,677 - openai._base_client - DEBUG - Request options: {'method': 'post', 'url': '/chat/completions', 'files': None, 'idempotency_key': 'stainless-python-retry-15a47201-8c7d-4c53-b650-812d9c61d21f', 'json_data': {'messages': [{'role': 'system', 'content': "\n\n--- Current State: PLANNING ---\n\n\n--- Admin AI Standard Protocol ---\n\n--- Your Standard Context & Communication Protocol (Admin AI) ---\n**Your Context:**\n*   Your Agent ID: `admin_ai`\n*   Your Agent Type: `admin`\n*   Current Project (if any): `DefaultProject`\n*   Current Session: `startup_1748741080`\n*   Current Time (UTC): `2025-06-01 01:26:12+00:00`\n\n**Your Address Book (Key Contacts - Primarily PMs):**\n- Admin AI (Yourself): admin_ai\n- Project Managers (PMs): (None active currently)\n\n**Internal Monologue:** Enclose all internal reasoning, decision-making, or self-correction steps within `<think>...</think>` tags.\n\n**Tool Usage (Admin AI):** Use tools **ONE AT A TIME** via XML format. Output **ONLY** the single XML tool call tag(s).\n- **Tool Discovery:** `<tool_information><action>list_tools</action></tool_information>`\n- **Tool Details:** `<tool_information><action>get_info</action><tool_name>the_tool_name</tool_name></tool_information>`\n- Key tools for you: `knowledge_base`, `send_message` (to PMs), `manage_team` (in specific advanced scenarios, usually PMs handle workers).\n\n**Communication (`send_message` tool):**\n- Parameters: `<target_agent_id>` and `<message_content>`.\n- Refer to your **Address Book** for PM agent IDs.\n\n--- End Admin AI Standard Protocol ---\n\n\n**Your Goal:** Create a detailed, step-by-step plan to address the user's request.\n\n**Workflow:**\n1.  **Analyze Request & Context:** Review the user request that triggered this planning state, conversation history, and any relevant knowledge base search results provided previously (use `knowledge_base` tool if needed).\n2.  **Formulate Plan:** Create a clear, detailed overall project plan.\n3.  **Define Project Title:** Include a concise title for this project within your plan using <title>The Project Title</title> tags as the framework uses this string to name the project.\n4.  **Output Plan:** Present your complete plan, including the <title> tag, and NEVER include ANY code, within the <plan>...</plan> XML tags. **STOP** after outputting the plan, as the framework will automatically create the project, assign a Project Manager, and notify you.\n\n**Example Project Plan Output:**\n<plan>\n  <title>The Project Title</title>\n  **Objective:** The objective.\n  **Tasks:**\n  1.  **Step 1:** Task to do.\n  2.  **Step 2:** The second task to do.\n  3.  **Step 3:** ...\n</plan>\n\n**Key Reminders:**\n*   Focus ONLY on creating the plan.\n*   Do NOT attempt to execute tools (other than potentially `knowledge_base` for context gathering) or delegate tasks yourself in this state.\n*   **MUST include the <title> tag.**\n*   Use `<plan>` tags for the final output!\n\n--- End PLANNING State ---\n\n"}, {'role': 'system', 'content': '[Framework Internal Status: Last turn OK. This is not a user query.]'}, {'role': 'user', 'content': 'Hello!'}, {'role': 'user', 'content': 'Please create a cool browser-based Snake game. Thanks!'}, {'role': 'user', 'content': 'huh?'}, {'role': 'assistant', 'content': "It seems like you're interested in a Snake game! I'd be happy to guide you through creating a simple browser-based Snake game using HTML, CSS, and JavaScript."}, {'role': 'user', 'content': 'Okay'}], 'model': 'meta-llama/llama-4-maverick:free', 'stream': True, 'temperature': 0.6}}
2025-06-01 09:26:12,678 - openai._base_client - DEBUG - Sending HTTP Request: POST https://openrouter.ai/api/v1/chat/completions
2025-06-01 09:26:12,681 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-06-01 09:26:12,682 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-06-01 09:26:12,682 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-06-01 09:26:12,683 - httpcore.http11 - DEBUG - send_request_body.complete
2025-06-01 09:26:12,683 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-06-01 09:26:16,091 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Date', b'Sun, 01 Jun 2025 01:26:15 GMT'), (b'Content-Type', b'text/event-stream'), (b'Transfer-Encoding', b'chunked'), (b'Connection', b'keep-alive'), (b'Access-Control-Allow-Origin', b'*'), (b'Cache-Control', b'no-cache'), (b'x-clerk-auth-message', b'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)'), (b'x-clerk-auth-reason', b'token-invalid'), (b'x-clerk-auth-status', b'signed-out'), (b'Vary', b'Accept-Encoding'), (b'Server', b'cloudflare'), (b'CF-RAY', b'948aebe99d798641-PER')])
2025-06-01 09:26:16,092 - httpx - INFO - HTTP Request: POST https://openrouter.ai/api/v1/chat/completions "HTTP/1.1 200 OK"
2025-06-01 09:26:16,093 - openai._base_client - DEBUG - HTTP Response: POST https://openrouter.ai/api/v1/chat/completions "200 OK" Headers({'date': 'Sun, 01 Jun 2025 01:26:15 GMT', 'content-type': 'text/event-stream', 'transfer-encoding': 'chunked', 'connection': 'keep-alive', 'access-control-allow-origin': '*', 'cache-control': 'no-cache', 'x-clerk-auth-message': 'Invalid JWT form. A JWT consists of three parts separated by dots. (reason=token-invalid, token-carrier=header)', 'x-clerk-auth-reason': 'token-invalid', 'x-clerk-auth-status': 'signed-out', 'vary': 'Accept-Encoding', 'server': 'cloudflare', 'cf-ray': '948aebe99d798641-PER'})
2025-06-01 09:26:16,093 - openai._base_client - DEBUG - request_id: None
2025-06-01 09:26:16,093 - src.llm_providers.openrouter_provider - INFO - API call successful on attempt 1.
2025-06-01 09:26:16,094 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-06-01 09:26:16,095 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,096 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,097 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,098 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,100 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='response_chunk', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,102 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-06-01 09:26:16,103 - httpcore.http11 - DEBUG - response_closed.started
2025-06-01 09:26:16,103 - httpcore.http11 - DEBUG - response_closed.complete
2025-06-01 09:26:16,103 - src.llm_providers.openrouter_provider - DEBUG - OpenRouter stream finished processing loop. Finish reason captured: stop
2025-06-01 09:26:16,103 - src.llm_providers.openrouter_provider - INFO - OpenRouterProvider stream_completion finished for model meta-llama/llama-4-maverick:free.
2025-06-01 09:26:16,104 - src.agents.core - DEBUG - Agent admin_ai: Provider stream finished. Stream error: False. Processing buffer.
2025-06-01 09:26:16,104 - src.agents.core - DEBUG - Agent admin_ai: Raw response before post-processing:
>>>
**Snake Game Implementation**
<<<
2025-06-01 09:26:16,105 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] Checking stripped buffer for XML tool calls (Len: 29):
>>>
**Snake Game Implementation**
<<<
2025-06-01 09:26:16,105 - src.agents.agent_tool_parser - DEBUG - Agent admin_ai: [PARSE_DEBUG] No valid XML tool calls found in buffer after full processing.
2025-06-01 09:26:16,105 - src.agents.cycle_handler - DEBUG - CycleHandler 'admin_ai': Received Event from Agent.process_message: Type='final_response', Keys=['type', 'content', 'agent_id']
2025-06-01 09:26:16,105 - src.agents.cycle_handler - INFO - CG review bypassed by heuristic for short/benign text (Length: 29). Text: '**Snake Game Implementation**...'
2025-06-01 09:26:16,105 - src.agents.cycle_handler - INFO - CG Verdict OK for agent 'admin_ai'. Proceeding normally.
2025-06-01 09:26:16,107 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:16,108 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:16,108 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf285c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game Implementation**', 'null', 'null'))
2025-06-01 09:26:16,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf285c0>, 'INSERT INTO interactions (session_id, agent_id, role, content, tool_calls_json, tool_results_json) VALUES (?, ?, ?, ?, ?, ?) RETURNING id, timestamp', (1, 'admin_ai', 'assistant', '**Snake Game Implementation**', 'null', 'null')) completed
2025-06-01 09:26:16,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf285c0>)
2025-06-01 09:26:16,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf285c0>) completed
2025-06-01 09:26:16,109 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf285c0>)
2025-06-01 09:26:16,109 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf285c0>) completed
2025-06-01 09:26:16,110 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:16,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:16,111 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf285c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (9,))
2025-06-01 09:26:16,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38cf285c0>, 'SELECT interactions.id, interactions.session_id, interactions.agent_id, interactions.role, interactions.content, interactions.tool_calls_json, interactions.tool_results_json, interactions.timestamp \nFROM interactions \nWHERE interactions.id = ?', (9,)) completed
2025-06-01 09:26:16,111 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf285c0>)
2025-06-01 09:26:16,111 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38cf285c0>) completed
2025-06-01 09:26:16,112 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf285c0>)
2025-06-01 09:26:16,112 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38cf285c0>) completed
2025-06-01 09:26:16,112 - src.core.database_manager - DEBUG - Logged interaction ID 9 (Agent: admin_ai, Role: assistant) for Session ID 1.
2025-06-01 09:26:16,113 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:16,132 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:16,133 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:16,133 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:16,133 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:26:16,134 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:26:16,134 - src.agents.core - INFO - Agent admin_ai: Finished processing cycle attempt. Status before CycleHandler: processing
2025-06-01 09:26:16,134 - src.agents.cycle_handler - INFO - Agent 'admin_ai' cycle resulted in no errors, no actions, and no text_buffer content.
2025-06-01 09:26:16,134 - src.agents.performance_tracker - DEBUG - Recording call: Provider='openrouter', Model='meta-llama/llama-4-maverick:free', Success=True, Duration=3463.64ms
2025-06-01 09:26:16,134 - src.agents.performance_tracker - DEBUG - Updated metrics for openrouter/meta-llama/llama-4-maverick:free: {'success_count': 5, 'failure_count': 0, 'total_duration_ms': 25536.362639999425, 'call_count': 5}
2025-06-01 09:26:16,134 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - START of schedule_next_step): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 5, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:26:16,135 - src.agents.cycle_components.next_step_scheduler - INFO - NextStepScheduler: Agent 'admin_ai' (openrouter/meta-llama/llama-4-maverick:free) finished cycle cleanly, no specific reactivation needed by this scheduler.
2025-06-01 09:26:16,135 - src.agents.core - INFO - Agent admin_ai: Status changed from 'processing' to 'idle'
2025-06-01 09:26:16,135 - src.agents.cycle_components.next_step_scheduler - CRITICAL - DIAGNOSTIC (NextStepScheduler - END of schedule_next_step via Path E - Default End): Agent ID: admin_ai, Agent Obj ID: 132781279412448, History ID: 132781269498112, History Len: 5, History Preview: [{"role": "user", "content": "Hello!"}, {"role": "user", "content": "Please create a cool browser-based Snake game. Thanks!"}, {"role": "user", "content": "huh?"}]...
2025-06-01 09:26:16,135 - src.agents.cycle_handler - INFO - CycleHandler: Finished cycle logic for Agent 'admin_ai'. Final status for this attempt: idle. State: planning
2025-06-01 09:26:36,213 - src.api.websocket_manager - INFO - WebSocket connection closed cleanly by 127.0.0.1.
2025-06-01 09:26:36,213 - src.api.websocket_manager - INFO - WebSocket connection for 127.0.0.1 removed. Total clients: 0
2025-06-01 09:26:36,313 - src.main - INFO - Application shutdown sequence initiated...
2025-06-01 09:26:36,313 - src.agents.manager - INFO - Manager: Cleaning up LLM providers, saving metrics, quarantine, stopping timers, closing DB...
2025-06-01 09:26:36,313 - src.agents.manager - INFO - PM manage timer task cancelled.
2025-06-01 09:26:36,316 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:36,316 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a5a40>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,))
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a5a40>, 'SELECT sessions.id, sessions.project_id, sessions.name, sessions.start_time, sessions.end_time \nFROM sessions \nWHERE sessions.id = ?', (1,)) completed
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a5a40>)
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method fetchall of sqlite3.Cursor object at 0x78c38d3a5a40>) completed
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a5a40>)
2025-06-01 09:26:36,317 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a5a40>) completed
2025-06-01 09:26:36,322 - aiosqlite - DEBUG - executing functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:36,322 - aiosqlite - DEBUG - operation functools.partial(<built-in method cursor of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:36,323 - aiosqlite - DEBUG - executing functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a5a40>, 'UPDATE sessions SET end_time=CURRENT_TIMESTAMP WHERE sessions.id = ?', (1,))
2025-06-01 09:26:36,323 - aiosqlite - DEBUG - operation functools.partial(<built-in method execute of sqlite3.Cursor object at 0x78c38d3a5a40>, 'UPDATE sessions SET end_time=CURRENT_TIMESTAMP WHERE sessions.id = ?', (1,)) completed
2025-06-01 09:26:36,324 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a5a40>)
2025-06-01 09:26:36,324 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Cursor object at 0x78c38d3a5a40>) completed
2025-06-01 09:26:36,326 - src.core.database_manager - INFO - Marked session ID 1 as ended.
2025-06-01 09:26:36,327 - aiosqlite - DEBUG - executing functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:36,345 - aiosqlite - DEBUG - operation functools.partial(<built-in method commit of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:36,345 - aiosqlite - DEBUG - executing functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:36,345 - aiosqlite - DEBUG - operation functools.partial(<built-in method rollback of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:36,345 - src.core.database_manager - DEBUG - DB Session committed.
2025-06-01 09:26:36,346 - src.core.database_manager - DEBUG - DB Session closed.
2025-06-01 09:26:36,346 - src.agents.performance_tracker - INFO - Saving performance metrics to: /home/tomanderson/TrippleEffect/data/model_performance_metrics.json
2025-06-01 09:26:36,346 - src.agents.provider_key_manager - INFO - Saving quarantine state (0 entries) to: /home/tomanderson/TrippleEffect/data/quarantine_state.json
2025-06-01 09:26:36,347 - src.agents.performance_tracker - DEBUG - Ensured data directory exists: /home/tomanderson/TrippleEffect/data
2025-06-01 09:26:36,348 - src.agents.performance_tracker - DEBUG - Successfully wrote metrics to temporary file: /home/tomanderson/TrippleEffect/data/model_performance_metrics.json_81kqnp3h.tmp
2025-06-01 09:26:36,348 - src.agents.performance_tracker - INFO - Successfully saved metrics to /home/tomanderson/TrippleEffect/data/model_performance_metrics.json
2025-06-01 09:26:36,348 - src.agents.provider_key_manager - INFO - Successfully saved quarantine state to /home/tomanderson/TrippleEffect/data/quarantine_state.json
2025-06-01 09:26:36,348 - src.core.database_manager - INFO - Closing database engine.
2025-06-01 09:26:36,349 - aiosqlite - DEBUG - executing functools.partial(<built-in method close of sqlite3.Connection object at 0x78c38ea836a0>)
2025-06-01 09:26:36,349 - aiosqlite - DEBUG - operation functools.partial(<built-in method close of sqlite3.Connection object at 0x78c38ea836a0>) completed
2025-06-01 09:26:36,349 - src.agents.manager - INFO - Manager: Database connection closed.
2025-06-01 09:26:36,350 - src.main - INFO - Lifespan: Agent Manager cleanup finished (providers, metrics, quarantine, DB session ended).
2025-06-01 09:26:36,350 - src.main - INFO - Lifespan: Closing database connection pool...
2025-06-01 09:26:36,350 - src.main - INFO - Lifespan: Database connection pool closed.
2025-06-01 09:26:36,350 - src.main - INFO - --- Application Shutdown Complete ---
